function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var c=Object.prototype.toString.call(t).slice(8,-1);return"Object"===c&&t.constructor&&(c=t.constructor.name),"Map"===c||"Set"===c?Array.from(t):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var c=0,n=new Array(e);c<e;c++)n[c]=t[c];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var c=0;c<e.length;c++){var n=e[c];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,c){return e&&_defineProperties(t.prototype,e),c&&_defineProperties(t,c),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{aHER:function(t,e,c){"use strict";c.r(e);var n=c("ofXK"),r=c("tyNb"),a=c("wd/R"),o=c("PSD3"),i=c.n(o),s=c("fXoL"),l=c("nwg1"),u=c("rwBg"),d=c("f4UJ"),h=c("AXIP"),f=c("3Pt+"),p=["closeEditModal"];function b(t,e){if(1&t&&(s.ac(0),s.cc(1,"option",21),s.Mc(2),s.bc(),s.Zb()),2&t){var c=e.$implicit;s.Jb(1),s.vc("value",c.id),s.Jb(1),s.Nc(c.name)}}function g(t,e){if(1&t&&(s.ac(0),s.cc(1,"option",21),s.Mc(2),s.bc(),s.Zb()),2&t){var c=e.$implicit;s.Jb(1),s.vc("value",c.id),s.Jb(1),s.Nc(c.name)}}function v(t,e){if(1&t&&(s.ac(0),s.cc(1,"td"),s.cc(2,"B"),s.Mc(3),s.pc(4,"titlecase"),s.bc(),s.bc(),s.cc(5,"td"),s.Mc(6),s.bc(),s.Zb()),2&t){var c=s.oc().$implicit;s.Jb(3),s.Nc(s.qc(4,2,c.service_name)),s.Jb(3),s.Nc(c.quantity)}}function y(t,e){if(1&t&&(s.cc(0,"tr"),s.Kc(1,v,7,4,"ng-container",23),s.bc()),2&t){var c=e.$implicit;s.Jb(1),s.vc("ngIf",c.quantity>0)}}function m(t,e){if(1&t&&(s.cc(0,"tbody",22),s.Kc(1,y,2,1,"tr",5),s.bc()),2&t){var c=s.oc();s.Jb(1),s.vc("ngForOf",c.reportList)}}function k(t,e){if(1&t&&(s.cc(0,"tbody"),s.cc(1,"tr"),s.cc(2,"td",24),s.Mc(3),s.bc(),s.bc(),s.bc()),2&t){var c=s.oc();s.Jb(3),s.Nc(c.response)}}var _,L,S=[{path:"",component:(_=function(){function t(e,c,n,r,a){var o=this;_classCallCheck(this,t),this.router=e,this.salesService=c,this.userService=n,this.branchService=r,this.ui=a,this.name=[],this.sortOrder=!1,this.sortFields={quantity:!0,food_name:!0},this.reportList=[],this.employeeList=[],this.branchList=[],this.response="No Data to Show",this.selectedPerPage=10,this.currentpage=1,this.getAllEmployee=function(){o.userService.getAllEmployee().subscribe((function(t){if(t.data){var e=t.data.result.map((function(t){return{id:t.user_id,name:"".concat(t.f_name," ").concat(t.l_name)}}));o.employeeList=[{id:"",name:"All"}].concat(_toConsumableArray(e))}}))},this.getAllBranch=function(){o.branchService.getBranchList().subscribe((function(t){if(t.data){var e=t.data.map((function(t){return{id:t.branch_id,name:t.branch_name}}));o.branchList=[{id:"",name:"All"}].concat(_toConsumableArray(e))}}))},this.onLimitSelect=function(t){o.selectedPerPage=t,o.getAllReport()},this.logout=function(){localStorage.setItem("isLoggedIn",String(!1)),o.router.navigate(["/login"])}}return _createClass(t,[{key:"ngOnInit",value:function(){this.getAllReport(),this.getAllBranch(),this.getAllEmployee()}},{key:"onOptionSelect",value:function(t,e){"branch"===t?"ALL"===e?this.selectedEmployee="":this.selectedBranchId=e:"employee"===t&&(this.selectedEmployee="ALL"===e?"":e),this.getAllReport()}},{key:"getAllReport",value:function(){var t=this,e={startDate:a(this.selectedStartDate).format("DD-MM-YYYY"),endDate:a(this.selectedEndDate).format("DD-MM-YYYY"),branch_id:this.selectedBranchId,employee_id:this.selectedEmployee},c="";for(var n in e)e[n]&&(c="".concat(c).concat(n,"=").concat(e[n],"&"));this.ui.loader.show(),this.salesService.getAllServiceSalesReport(c).subscribe((function(e){t.reportList=[],e.data.result&&function(){var c=JSON.parse(JSON.stringify(e.data.result)),n=c.map((function(t){return t.service_id}));console.log(n);for(var r=function(e){var n=c.filter((function(t){return t.service_id===c[e].service_id}));if(console.log(n),n.length>1){for(var r=JSON.parse(JSON.stringify(n[0])),a=0,o=0;o<n.length;o++)a+=n[o].quantity;r.quantity=a,t.reportList.some((function(t){return t.service_id===r.service_id}))||t.reportList.push(Object.assign({},r))}else t.reportList.push(n[0])},a=0;a<c.length;a++)r(a);console.log(t.reportList)}(),t.ui.loader.hide()}),(function(e){t.ui.loader.hide()}))}},{key:"onDateSelect",value:function(){this.selectedStartDate?this.selectedEndDate?this.getAllReport():i.a.fire({icon:"warning",title:"Please Select End Date",showConfirmButton:!1,timer:1500}):i.a.fire({icon:"warning",title:"Please Select Start Date",showConfirmButton:!1,timer:1500})}},{key:"changeOrder",value:function(t){var e=this;this.sortOrder=!this.sortOrder,this.field=t,this.sortFields[t]=this.sortOrder,this.reportList.sort((function(c,n){return"quantity"===t||"quantity"===t?e.sortOrder?n[t]-c[t]:c[t]-n[t]:e.sortOrder?n[t].localeCompare(c[t]):c[t].localeCompare(n[t])}))}},{key:"changedDate",value:function(t,e){"start"===t?this.selectedStartDate=e:"end"===t&&(this.selectedEndDate=e),console.log(this.selectedStartDate),console.log(this.selectedEndDate)}}]),t}(),_.\u0275fac=function(t){return new(t||_)(s.Wb(r.e),s.Wb(l.a),s.Wb(u.a),s.Wb(d.a),s.Wb(h.a))},_.\u0275cmp=s.Qb({type:_,selectors:[["app-appointment-list"]],viewQuery:function(t,e){var c;1&t&&s.Rc(p,!0),2&t&&s.Cc(c=s.lc())&&(e.closeEditModal=c.first)},decls:41,vars:16,consts:[[1,"container-fluid"],[1,"row","dash-tab"],[1,"col-sm-5","cus-srch"],[1,"form-group"],["name","dev","id","dev",1,"form-control","pl-0",3,"ngModel","ngModelChange","change"],[4,"ngFor","ngForOf"],["name","cars","id","cars",1,"form-control","pl-0",3,"ngModel","ngModelChange","change"],[1,"col-sm-3","cus-srch"],["type","date","id","birthday1","placeholder","From Date","name","selectedSDate",1,"form-control","pl-0",3,"ngModel","ngModelChange","change"],["type","date","id","birthday2","placeholder","To Date","name","selectedEDate",1,"form-control","pl-0",3,"ngModel","ngModelChange","change"],[1,"col-sm-3"],[1,"form-group","mt-3"],[1,"shortcut-btn","w-100",3,"click"],[1,"col-sm-12"],[1,"table-responsive"],[1,"table","details_table"],["scope","col"],["href","javascript:void(0)",1,"caret-sort",3,"click"],[1,"fa"],["style","width:100%",4,"ngIf","ngIfElse"],["elseBlock",""],[3,"value"],[2,"width","100%"],[4,"ngIf"],["colspan","100%",1,"text-center"]],template:function(t,e){if(1&t&&(s.cc(0,"div",0),s.cc(1,"div",1),s.cc(2,"div",2),s.cc(3,"div",3),s.Mc(4," BRANCH WISE "),s.cc(5,"select",4),s.kc("ngModelChange",(function(t){return e.selectedBranchId=t}))("change",(function(t){return e.onOptionSelect("branch",t.target.value)})),s.Kc(6,b,3,2,"ng-container",5),s.bc(),s.bc(),s.bc(),s.cc(7,"div",2),s.cc(8,"div",3),s.Mc(9," EMPLOYEE WISE "),s.cc(10,"select",6),s.kc("ngModelChange",(function(t){return e.selectedEmployee=t}))("change",(function(t){return e.onOptionSelect("employee",t.target.value)})),s.Kc(11,g,3,2,"ng-container",5),s.bc(),s.bc(),s.bc(),s.cc(12,"div",7),s.cc(13,"div",3),s.Mc(14," FROM DATE "),s.cc(15,"input",8),s.kc("ngModelChange",(function(t){return e.selectedStartDate=t}))("change",(function(t){return e.changedDate("start",t.target.value)})),s.bc(),s.bc(),s.bc(),s.cc(16,"div",7),s.cc(17,"div",3),s.Mc(18," TO DATE "),s.cc(19,"input",9),s.kc("ngModelChange",(function(t){return e.selectedEndDate=t}))("change",(function(t){return e.changedDate("end",t.target.value)})),s.bc(),s.bc(),s.bc(),s.cc(20,"div",10),s.cc(21,"div",11),s.cc(22,"button",12),s.kc("click",(function(){return e.onDateSelect()})),s.cc(23,"b"),s.Mc(24,"SEARCH"),s.bc(),s.bc(),s.bc(),s.bc(),s.cc(25,"div",13),s.cc(26,"div",14),s.cc(27,"table",15),s.cc(28,"thead"),s.cc(29,"tr"),s.cc(30,"th",16),s.Mc(31,"Service Name"),s.cc(32,"a",17),s.kc("click",(function(){return e.changeOrder("food_name")})),s.Xb(33,"i",18),s.bc(),s.bc(),s.cc(34,"th",16),s.Mc(35,"Head Count"),s.cc(36,"a",17),s.kc("click",(function(){return e.changeOrder("quantity")})),s.Xb(37,"i",18),s.bc(),s.bc(),s.bc(),s.bc(),s.Kc(38,m,2,1,"tbody",19),s.Kc(39,k,4,1,"ng-template",null,20,s.Lc),s.bc(),s.bc(),s.bc(),s.bc(),s.bc()),2&t){var c=s.Dc(40);s.Jb(5),s.vc("ngModel",e.selectedBranchId),s.Jb(1),s.vc("ngForOf",e.branchList),s.Jb(4),s.vc("ngModel",e.selectedEmployee),s.Jb(1),s.vc("ngForOf",e.employeeList),s.Jb(4),s.vc("ngModel",e.selectedStartDate),s.Jb(4),s.vc("ngModel",e.selectedEndDate),s.Jb(14),s.Nb("fa-caret-down",e.sortFields.food_name)("fa-caret-up",!e.sortFields.food_name),s.Jb(4),s.Nb("fa-caret-down",e.sortFields.quantity)("fa-caret-up",!e.sortFields.quantity),s.Jb(1),s.vc("ngIf",null==e.reportList?null:e.reportList.length)("ngIfElse",c)}},directives:[f.p,f.h,f.k,n.k,f.b,n.l,f.l,f.r],pipes:[n.r],styles:[""]}),_)}],A=((L=function t(){_classCallCheck(this,t)}).\u0275mod=s.Ub({type:L}),L.\u0275inj=s.Tb({factory:function(t){return new(t||L)},imports:[[r.h.forChild(S)],r.h]}),L);c.d(e,"AppointmentListModule",(function(){return M}));var C,M=((C=function t(){_classCallCheck(this,t)}).\u0275mod=s.Ub({type:C}),C.\u0275inj=s.Tb({factory:function(t){return new(t||C)},imports:[[n.b,f.d,A]]}),C)},f4UJ:function(t,e,c){"use strict";c.d(e,"a",(function(){return o}));var n=c("AytR"),r=c("fXoL"),a=c("tk/3"),o=function(){var t=function(){function t(e){_classCallCheck(this,t),this.http=e}return _createClass(t,[{key:"getBranchList",value:function(){return this.http.get("".concat(n.a.apiURL,"/branch"))}},{key:"addBranch",value:function(t){return this.http.post("".concat(n.a.apiURL,"/branch"),t)}},{key:"deleteBranch",value:function(t){return this.http.delete("".concat(n.a.apiURL,"/branch/").concat(t))}},{key:"getBranchDetail",value:function(t){return this.http.get("".concat(n.a.apiURL,"/branch/").concat(t))}},{key:"editBranch",value:function(t,e){return this.http.put("".concat(n.a.apiURL,"/branch/").concat(t),e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.gc(a.a))},t.\u0275prov=r.Sb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},rwBg:function(t,e,c){"use strict";c.d(e,"a",(function(){return o}));var n=c("AytR"),r=c("fXoL"),a=c("tk/3"),o=function(){var t=function(){function t(e){_classCallCheck(this,t),this.http=e}return _createClass(t,[{key:"login",value:function(t){return this.http.post("".concat(n.a.apiURL,"/user/login"),t)}},{key:"changePassword",value:function(t){return this.http.post("".concat(n.a.apiURL,"/admin/forgotPassword"),t)}},{key:"getAllEmployee",value:function(t,e,c){return this.http.get("".concat(n.a.apiURL,"/user/e?per_page=").concat(e,"&current_page=").concat(c,"&").concat(t||""))}},{key:"getAllOperator",value:function(t,e,c){return this.http.get("".concat(n.a.apiURL,"/user/o?per_page=").concat(e,"&current_page=").concat(c,"&").concat(t||""))}},{key:"addEmployee",value:function(t){return this.http.post("".concat(n.a.apiURL,"/user"),t)}},{key:"addOperator",value:function(t){return this.http.post("".concat(n.a.apiURL,"/user"),t)}},{key:"editUser",value:function(t,e){return this.http.put("".concat(n.a.apiURL,"/user/").concat(t),e)}},{key:"deleteUser",value:function(t){return this.http.delete("".concat(n.a.apiURL,"/user/").concat(t))}},{key:"getUserDetail",value:function(t){return this.http.get("".concat(n.a.apiURL,"/user/").concat(t))}},{key:"getAllUsers",value:function(t,e){return this.http.get("".concat(n.a.apiURL,"/users/view/all?per_page=").concat(t,"&current_page=").concat(e))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.gc(a.a))},t.\u0275prov=r.Sb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}]);
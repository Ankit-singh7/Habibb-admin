function _createForOfIteratorHelper(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,c=function(){};return{s:c,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,i=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){i=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw a}}}}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"2LlD":function(t,e,n){"use strict";n.r(e);var r=n("ofXK"),c=n("tyNb"),a=n("wd/R"),o=n("PSD3"),i=n.n(o),l=n("fXoL"),u=n("nwg1"),s=n("rwBg"),d=n("f4UJ"),f=n("sumL"),p=n("AXIP"),h=n("3Pt+"),b=n("X+I5"),g=["closeEditModal"];function v(t,e){if(1&t&&(l.ac(0),l.cc(1,"option",23),l.Mc(2),l.bc(),l.Zb()),2&t){var n=e.$implicit;l.Jb(1),l.vc("value",n.id),l.Jb(1),l.Nc(n.name)}}function y(t,e){if(1&t&&(l.ac(0),l.cc(1,"option",23),l.Mc(2),l.bc(),l.Zb()),2&t){var n=e.$implicit;l.Jb(1),l.vc("value",n.id),l.Jb(1),l.Nc(n.name)}}function m(t,e){if(1&t&&(l.ac(0),l.cc(1,"td"),l.cc(2,"B"),l.Mc(3),l.pc(4,"titlecase"),l.bc(),l.bc(),l.cc(5,"td"),l.Mc(6),l.bc(),l.Zb()),2&t){var n=l.oc().$implicit;l.Jb(3),l.Nc(l.qc(4,2,n.product_name)),l.Jb(3),l.Nc(n.quantity)}}function k(t,e){if(1&t&&(l.cc(0,"tr"),l.Kc(1,m,7,4,"ng-container",25),l.bc()),2&t){var n=e.$implicit;l.Jb(1),l.vc("ngIf",(null==n?null:n.quantity)>0)}}function L(t,e){if(1&t&&(l.cc(0,"tbody",24),l.Kc(1,k,2,1,"tr",5),l.pc(2,"filter"),l.bc()),2&t){var n=l.oc();l.Jb(1),l.vc("ngForOf",l.sc(2,1,n.reportList,"product_name",n.prodS))}}function _(t,e){if(1&t&&(l.cc(0,"tbody"),l.cc(1,"tr"),l.cc(2,"td",26),l.Mc(3),l.bc(),l.bc(),l.bc()),2&t){var n=l.oc();l.Jb(3),l.Nc(n.response)}}var S,C,w=[{path:"",component:(S=function(){function t(e,n,r,c,a,o){var i=this;_classCallCheck(this,t),this.router=e,this.salesService=n,this.userService=r,this.branchService=c,this.billingService=a,this.ui=o,this.name=[],this.sortOrder=!1,this.sortFields={quantity:!0,food_name:!0},this.reportList=[],this.response="No Data to Show",this.employeeList=[],this.branchList=[],this.selectedPerPage=1e7,this.currentpage=1,this.prodS="",this.getAllEmployee=function(){i.userService.getAllEmployee().subscribe((function(t){if(t.data){var e=t.data.result.map((function(t){return{id:t.user_id,name:"".concat(t.f_name," ").concat(t.l_name)}}));i.employeeList=[{id:"",name:"All"}].concat(_toConsumableArray(e))}}))},this.getAllBranch=function(){i.branchService.getBranchList().subscribe((function(t){if(t.data){var e=t.data.map((function(t){return{id:t.branch_id,name:t.branch_name}}));i.branchList=[{id:"",name:"All"}].concat(_toConsumableArray(e))}}))},this.onLimitSelect=function(t){i.selectedPerPage=t,i.getAllReport()},this.logout=function(){localStorage.setItem("isLoggedIn",String(!1)),i.router.navigate(["/login"])}}return _createClass(t,[{key:"ngOnInit",value:function(){this.getAllReport(),this.getAllBranch(),this.getAllEmployee()}},{key:"onOptionSelect",value:function(t,e){"branch"===t?"ALL"===e?this.selectedEmployee="":this.selectedBranchId=e:"employee"===t&&(this.selectedEmployee="ALL"===e?"":e),this.getAllReport()}},{key:"getAllReport",value:function(){var t=this,e={startDate:a(this.selectedStartDate).format("DD-MM-YYYY"),endDate:a(this.selectedEndDate).format("DD-MM-YYYY"),branch_id:this.selectedBranchId,employee_id:this.selectedEmployee},n="";for(var r in e)e[r]&&(n="".concat(n).concat(r,"=").concat(e[r],"&"));this.ui.loader.show(),this.billingService.getBillingList(this.selectedPerPage,this.currentpage,n).subscribe((function(e){var n,r;t.reportList=[],(null===(r=null===(n=e)||void 0===n?void 0:n.data)||void 0===r?void 0:r.result)&&function(){var n,r=JSON.parse(JSON.stringify(e.data.result)),c=[],a=_createForOfIteratorHelper(r);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(o.products.length>0){var i,l=_createForOfIteratorHelper(o.products);try{for(l.s();!(i=l.n()).done;){var u=i.value;c.push(u)}}catch(f){l.e(f)}finally{l.f()}}}}catch(f){a.e(f)}finally{a.f()}for(var s=function(e){var n=c.filter((function(t){var n,r;return(null===(n=t)||void 0===n?void 0:n.product_id)===(null===(r=c[e])||void 0===r?void 0:r.product_id)}));if(console.log(n),n.length>1){for(var r=JSON.parse(JSON.stringify(n[0])),a=0,o=0;o<n.length;o++)a+=n[o].quantity;r.quantity=a,t.reportList.some((function(t){return t.product_id===r.product_id}))||t.reportList.push(Object.assign({},r))}else t.reportList.push(n[0])},d=0;d<r.length;d++)s(d);console.log(t.reportList)}(),t.ui.loader.hide()}),(function(e){t.ui.loader.hide()}))}},{key:"onDateSelect",value:function(){this.selectedStartDate?this.selectedEndDate?this.getAllReport():i.a.fire({icon:"warning",title:"Please Select End Date",showConfirmButton:!1,timer:1500}):i.a.fire({icon:"warning",title:"Please Select Start Date",showConfirmButton:!1,timer:1500})}},{key:"changeOrder",value:function(t){var e=this;this.sortOrder=!this.sortOrder,this.field=t,this.sortFields[t]=this.sortOrder,this.reportList.sort((function(n,r){return"quantity"===t||"quantity"===t?e.sortOrder?r[t]-n[t]:n[t]-r[t]:e.sortOrder?r[t].localeCompare(n[t]):n[t].localeCompare(r[t])}))}},{key:"changedDate",value:function(t,e){"start"===t?this.selectedStartDate=e:"end"===t&&(this.selectedEndDate=e),console.log(this.selectedStartDate),console.log(this.selectedEndDate)}}]),t}(),S.\u0275fac=function(t){return new(t||S)(l.Wb(c.e),l.Wb(u.a),l.Wb(s.a),l.Wb(d.a),l.Wb(f.a),l.Wb(p.a))},S.\u0275cmp=l.Qb({type:S,selectors:[["app-product-sales-report"]],viewQuery:function(t,e){var n;1&t&&l.Rc(g,!0),2&t&&l.Cc(n=l.lc())&&(e.closeEditModal=n.first)},decls:45,vars:17,consts:[[1,"container-fluid"],[1,"row","dash-tab"],[1,"col-sm-5","cus-srch"],[1,"form-group"],["name","dev","id","dev",1,"form-control","pl-0",3,"ngModel","ngModelChange","change"],[4,"ngFor","ngForOf"],["name","cars","id","cars",1,"form-control","pl-0",3,"ngModel","ngModelChange","change"],[1,"col-sm-3","cus-srch"],["type","date","id","birthday1","placeholder","From Date","name","selectedSDate",1,"form-control","pl-0",3,"ngModel","ngModelChange","change"],["type","date","id","birthday2","placeholder","To Date","name","selectedEDate",1,"form-control","pl-0",3,"ngModel","ngModelChange","change"],[1,"col-sm-3"],[1,"form-group","mt-3"],[1,"shortcut-btn","w-100",3,"click"],[1,"col-sm-12","col-md-3","cus-srch"],["type","text","id","birthday","placeholder","Search By Product","name","prodS",1,"form-control","pl-0",3,"ngModel","ngModelChange"],[1,"col-sm-12"],[1,"table-responsive"],[1,"table","details_table"],["scope","col"],["href","javascript:void(0)",1,"caret-sort",3,"click"],[1,"fa"],["style","width:100%",4,"ngIf","ngIfElse"],["elseBlock",""],[3,"value"],[2,"width","100%"],[4,"ngIf"],["colspan","100%",1,"text-center"]],template:function(t,e){if(1&t&&(l.cc(0,"div",0),l.cc(1,"div",1),l.cc(2,"div",2),l.cc(3,"div",3),l.Mc(4," BRANCH WISE "),l.cc(5,"select",4),l.kc("ngModelChange",(function(t){return e.selectedBranchId=t}))("change",(function(t){return e.onOptionSelect("branch",t.target.value)})),l.Kc(6,v,3,2,"ng-container",5),l.bc(),l.bc(),l.bc(),l.cc(7,"div",2),l.cc(8,"div",3),l.Mc(9," EMPLOYEE WISE "),l.cc(10,"select",6),l.kc("ngModelChange",(function(t){return e.selectedEmployee=t}))("change",(function(t){return e.onOptionSelect("employee",t.target.value)})),l.Kc(11,y,3,2,"ng-container",5),l.bc(),l.bc(),l.bc(),l.cc(12,"div",7),l.cc(13,"div",3),l.Mc(14," FROM DATE "),l.cc(15,"input",8),l.kc("ngModelChange",(function(t){return e.selectedStartDate=t}))("change",(function(t){return e.changedDate("start",t.target.value)})),l.bc(),l.bc(),l.bc(),l.cc(16,"div",7),l.cc(17,"div",3),l.Mc(18," TO DATE "),l.cc(19,"input",9),l.kc("ngModelChange",(function(t){return e.selectedEndDate=t}))("change",(function(t){return e.changedDate("end",t.target.value)})),l.bc(),l.bc(),l.bc(),l.cc(20,"div",10),l.cc(21,"div",11),l.cc(22,"button",12),l.kc("click",(function(){return e.onDateSelect()})),l.cc(23,"b"),l.Mc(24,"SEARCH"),l.bc(),l.bc(),l.bc(),l.bc(),l.cc(25,"div",13),l.cc(26,"div",3),l.Mc(27," SEARCH BY PRODUCT "),l.cc(28,"input",14),l.kc("ngModelChange",(function(t){return e.prodS=t})),l.bc(),l.bc(),l.bc(),l.cc(29,"div",15),l.cc(30,"div",16),l.cc(31,"table",17),l.cc(32,"thead"),l.cc(33,"tr"),l.cc(34,"th",18),l.Mc(35,"Product Name"),l.cc(36,"a",19),l.kc("click",(function(){return e.changeOrder("food_name")})),l.Xb(37,"i",20),l.bc(),l.bc(),l.cc(38,"th",18),l.Mc(39,"Quantity Sold"),l.cc(40,"a",19),l.kc("click",(function(){return e.changeOrder("quantity")})),l.Xb(41,"i",20),l.bc(),l.bc(),l.bc(),l.bc(),l.Kc(42,L,3,5,"tbody",21),l.Kc(43,_,4,1,"ng-template",null,22,l.Lc),l.bc(),l.bc(),l.bc(),l.bc(),l.bc()),2&t){var n=l.Dc(44);l.Jb(5),l.vc("ngModel",e.selectedBranchId),l.Jb(1),l.vc("ngForOf",e.branchList),l.Jb(4),l.vc("ngModel",e.selectedEmployee),l.Jb(1),l.vc("ngForOf",e.employeeList),l.Jb(4),l.vc("ngModel",e.selectedStartDate),l.Jb(4),l.vc("ngModel",e.selectedEndDate),l.Jb(9),l.vc("ngModel",e.prodS),l.Jb(9),l.Nb("fa-caret-down",e.sortFields.food_name)("fa-caret-up",!e.sortFields.food_name),l.Jb(4),l.Nb("fa-caret-down",e.sortFields.quantity)("fa-caret-up",!e.sortFields.quantity),l.Jb(1),l.vc("ngIf",null==e.reportList?null:e.reportList.length)("ngIfElse",n)}},directives:[h.p,h.h,h.k,r.k,h.b,r.l,h.l,h.r],pipes:[b.a,r.r],styles:[""]}),S)}],A=((C=function t(){_classCallCheck(this,t)}).\u0275mod=l.Ub({type:C}),C.\u0275inj=l.Tb({factory:function(t){return new(t||C)},imports:[[c.h.forChild(w)],c.h]}),C),M=n("wloI");n.d(e,"ProductSalesReportModule",(function(){return R}));var D,R=((D=function t(){_classCallCheck(this,t)}).\u0275mod=l.Ub({type:D}),D.\u0275inj=l.Tb({factory:function(t){return new(t||D)},imports:[[r.b,h.d,A,M.a]]}),D)},"X+I5":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("fXoL"),c=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t,e,n){return n?t.filter((function(t){return e.split(",").some((function(e){return t.hasOwnProperty(e)&&new RegExp(n,"gi").test(t[e])}))})):t}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Vb({name:"filter",type:t,pure:!0}),t}()},f4UJ:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("AytR"),c=n("fXoL"),a=n("tk/3"),o=function(){var t=function(){function t(e){_classCallCheck(this,t),this.http=e}return _createClass(t,[{key:"getBranchList",value:function(){return this.http.get("".concat(r.a.apiURL,"/branch"))}},{key:"addBranch",value:function(t){return this.http.post("".concat(r.a.apiURL,"/branch"),t)}},{key:"deleteBranch",value:function(t){return this.http.delete("".concat(r.a.apiURL,"/branch/").concat(t))}},{key:"getBranchDetail",value:function(t){return this.http.get("".concat(r.a.apiURL,"/branch/").concat(t))}},{key:"editBranch",value:function(t,e){return this.http.put("".concat(r.a.apiURL,"/branch/").concat(t),e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.gc(a.a))},t.\u0275prov=c.Sb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},rwBg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("AytR"),c=n("fXoL"),a=n("tk/3"),o=function(){var t=function(){function t(e){_classCallCheck(this,t),this.http=e}return _createClass(t,[{key:"login",value:function(t){return this.http.post("".concat(r.a.apiURL,"/user/login"),t)}},{key:"changePassword",value:function(t){return this.http.post("".concat(r.a.apiURL,"/admin/forgotPassword"),t)}},{key:"getAllEmployee",value:function(t){return this.http.get("".concat(r.a.apiURL,"/user/e?per_page=500&current_page=1&").concat(t||""))}},{key:"getAllOperator",value:function(t){return this.http.get("".concat(r.a.apiURL,"/user/o?per_page=500&current_page=1&").concat(t||""))}},{key:"addEmployee",value:function(t){return this.http.post("".concat(r.a.apiURL,"/user"),t)}},{key:"addOperator",value:function(t){return this.http.post("".concat(r.a.apiURL,"/user"),t)}},{key:"editUser",value:function(t,e){return this.http.put("".concat(r.a.apiURL,"/user/").concat(t),e)}},{key:"deleteUser",value:function(t){return this.http.delete("".concat(r.a.apiURL,"/user/").concat(t))}},{key:"getUserDetail",value:function(t){return this.http.get("".concat(r.a.apiURL,"/user/").concat(t))}},{key:"getAllUsers",value:function(t,e){return this.http.get("".concat(r.a.apiURL,"/users/view/all?per_page=").concat(t,"&current_page=").concat(e))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.gc(a.a))},t.\u0275prov=c.Sb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},sumL:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("AytR"),c=n("fXoL"),a=n("tk/3"),o=function(){var t=function(){function t(e){_classCallCheck(this,t),this.http=e}return _createClass(t,[{key:"getBillingList",value:function(t,e,n){return this.http.get("".concat(r.a.apiURL,"/bill/view/all?per_page=").concat(t,"&current_page=").concat(e,"&").concat(n))}},{key:"getCustomerList",value:function(t){return this.http.get("".concat(r.a.apiURL,"/bill/customer?customer_name=").concat(t))}},{key:"getNumberList",value:function(t){return this.http.get("".concat(r.a.apiURL,"/bill/number?customer_phone=").concat(t))}},{key:"deleteBill",value:function(t){return this.http.delete("".concat(r.a.apiURL,"/bill/").concat(t))}},{key:"editBill",value:function(t,e){return this.http.put("".concat(r.a.apiURL,"/bill/").concat(t,"/update"),e)}},{key:"getBillDetail",value:function(t){return this.http.get("".concat(r.a.apiURL,"/bill/").concat(t,"/getById"))}},{key:"getTotalSale",value:function(t){return this.http.get("".concat(r.a.apiURL,"/bill/total?").concat(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.gc(a.a))},t.\u0275prov=c.Sb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}]);
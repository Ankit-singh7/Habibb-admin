function _classCallCheck(e,c){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,c){for(var t=0;t<c.length;t++){var n=c[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,c,t){return c&&_defineProperties(e.prototype,c),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"1P4n":function(e,c,t){"use strict";t.r(c);var n=t("ofXK"),a=t("3Pt+"),i=t("wloI"),o=t("ZOsW"),r=t("oOf3"),l=t("tyNb"),d=t("PSD3"),s=t.n(d),u=t("fXoL"),b=t("rwBg"),h=t("f4UJ"),g=t("AXIP"),p=["closeEditModal"];function f(e,c){if(1&e){var t=u.dc();u.cc(0,"tr"),u.cc(1,"td"),u.cc(2,"B"),u.Lc(3),u.pc(4,"titlecase"),u.pc(5,"titlecase"),u.bc(),u.bc(),u.cc(6,"td"),u.Lc(7),u.bc(),u.cc(8,"td"),u.Lc(9),u.bc(),u.cc(10,"td"),u.Lc(11),u.bc(),u.cc(12,"td"),u.Lc(13),u.bc(),u.cc(14,"td"),u.cc(15,"button",45),u.kc("click",(function(){u.Ec(t);var e=c.$implicit;return u.oc(2).getUserDetail(e.user_id)})),u.Xb(16,"i",46),u.bc(),u.cc(17,"button",47),u.kc("click",(function(){u.Ec(t);var e=c.index,n=c.$implicit;return u.oc(2).deleteUser(e,n.user_id)})),u.Xb(18,"i",48),u.bc(),u.bc(),u.bc()}if(2&e){var n=c.$implicit;u.Jb(3),u.Oc("",u.qc(4,6,n.f_name)," ",u.qc(5,8,n.l_name),""),u.Jb(4),u.Mc(n.phone),u.Jb(2),u.Mc(n.email),u.Jb(2),u.Mc(n.password),u.Jb(2),u.Mc(n.branch_name)}}var m=function(e,c,t){return{itemsPerPage:e,currentPage:c,totalItems:t}};function v(e,c){if(1&e&&(u.cc(0,"tbody"),u.Jc(1,f,19,10,"tr",39),u.pc(2,"paginate"),u.bc()),2&e){var t=u.oc();u.Jb(1),u.uc("ngForOf",u.rc(2,1,t.operatorList,u.zc(4,m,t.selectedPerPage,t.currentpage,t.total)))}}function M(e,c){if(1&e&&(u.cc(0,"tbody"),u.cc(1,"tr"),u.cc(2,"td",49),u.Lc(3),u.bc(),u.bc(),u.bc()),2&e){var t=u.oc();u.Jb(3),u.Mc(t.response)}}function L(e,c){if(1&e&&(u.ac(0),u.cc(1,"option",50),u.Lc(2),u.bc(),u.Zb()),2&e){var t=c.$implicit;u.Jb(1),u.uc("value",t.branch_id),u.Jb(1),u.Mc(t.branch_name)}}function C(e,c){if(1&e&&(u.ac(0),u.cc(1,"option",58),u.Lc(2),u.bc(),u.Zb()),2&e){var t=c.$implicit,n=u.oc(2);u.Jb(1),u.uc("value",t.branch_id)("selected",n.detail.branch_id===t.branch_id),u.Jb(1),u.Mc(t.branch_name)}}function k(e,c){if(1&e){var t=u.dc();u.cc(0,"form",51,52),u.cc(2,"div",25),u.cc(3,"div",26),u.cc(4,"h5"),u.Lc(5,"Edit Employee Detail"),u.bc(),u.bc(),u.cc(6,"div",27),u.cc(7,"div",28),u.cc(8,"input",53),u.kc("ngModelChange",(function(e){return u.Ec(t),u.oc().detail.f_name=e})),u.bc(),u.bc(),u.bc(),u.cc(9,"div",30),u.cc(10,"div",28),u.cc(11,"input",54),u.kc("ngModelChange",(function(e){return u.Ec(t),u.oc().detail.l_name=e})),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(12,"div",25),u.cc(13,"div",27),u.cc(14,"div",28),u.cc(15,"input",32),u.kc("ngModelChange",(function(e){return u.Ec(t),u.oc().detail.email=e})),u.bc(),u.bc(),u.bc(),u.cc(16,"div",30),u.cc(17,"div",28),u.cc(18,"input",55),u.kc("ngModelChange",(function(e){return u.Ec(t),u.oc().detail.phone=e})),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(19,"div",25),u.cc(20,"div",27),u.cc(21,"div",28),u.cc(22,"input",56),u.kc("ngModelChange",(function(e){return u.Ec(t),u.oc().detail.password=e})),u.bc(),u.bc(),u.bc(),u.cc(23,"div",30),u.cc(24,"div",28),u.cc(25,"div",35),u.cc(26,"div",36),u.cc(27,"label",37),u.Lc(28,"Branch"),u.bc(),u.bc(),u.cc(29,"select",57),u.kc("ngModelChange",(function(e){return u.Ec(t),u.oc().detail.branch_id=e}))("change",(function(e){return u.Ec(t),u.oc().changeBranch(e.target.value)})),u.Jc(30,C,3,3,"ng-container",39),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(31,"div",25),u.cc(32,"div",40),u.cc(33,"button",41),u.kc("click",(function(){u.Ec(t);var e=u.oc();return e.editUser(e.detail.user_id)})),u.Lc(34,"EDIT"),u.bc(),u.bc(),u.bc(),u.bc()}if(2&e){var n=u.Cc(1),a=u.oc();u.Jb(8),u.uc("ngModel",a.detail.f_name),u.Jb(3),u.uc("ngModel",a.detail.l_name),u.Jb(4),u.uc("ngModel",a.detail.email),u.Jb(3),u.uc("ngModel",a.detail.phone),u.Jb(4),u.uc("ngModel",a.detail.password),u.Jb(7),u.uc("ngModel",a.detail.branch_id),u.Jb(1),u.uc("ngForOf",a.branchList),u.Jb(3),u.uc("disabled",!n.valid)}}var y,w,J=[{path:"",component:(y=function(){function e(c,t,n,a){var i=this;_classCallCheck(this,e),this.router=c,this.userService=t,this.branchService=n,this.ui=a,this.name=[],this.response="No Data Found",this.sortOrder=!1,this.fullName=localStorage.getItem("name"),this.operatorList=[],this.branchList=[],this.selectedPerPage=10,this.currentpage=1,this.onLimitSelect=function(e){i.selectedPerPage=e,i.getOperatorList()},this.logout=function(){localStorage.setItem("isLoggedIn",String(!1)),i.router.navigate(["/login"])}}return _createClass(e,[{key:"ngOnInit",value:function(){this.getOperatorList(),this.getBranchList()}},{key:"addStatus",value:function(e){this.status=e,console.log(this.status)}},{key:"changeBranch",value:function(e){this.selectedBranch=e,console.log(e)}},{key:"editStatus",value:function(e){this.detail.status=e,console.log(this.status)}},{key:"getOperatorList",value:function(e){var c=this;this.ui.loader.show(),e&&(this.currentpage=e),this.userService.getAllOperator(this.selectedPerPage,this.currentpage).subscribe((function(e){e.data&&(c.operatorList=e.data.result,c.total=e.data.total),c.ui.loader.hide()}),(function(e){return c.ui.loader.hide()}))}},{key:"getBranchList",value:function(){var e=this;this.branchService.getBranchList().subscribe((function(c){e.branchList=c.data?c.data:[]}))}},{key:"addOperator",value:function(){var e=this;this.ui.loader.show();var c={f_name:this.firstName,l_name:this.lastName,phone:this.phone,email:this.email,password:this.password,branch_id:this.selectedBranch,role:"operator",status:this.status};this.operatorList.push(c),this.userService.addEmployee(c).subscribe((function(c){e.firstName="",e.lastName="",e.phone="",e.email="",e.password="",e.status="",s.a.fire({icon:"success",title:"User Created Successfully",showConfirmButton:!1,timer:1500}),e.ui.loader.hide()}),(function(c){return e.ui.loader.hide()}))}},{key:"changeOrder",value:function(e){var c=this;this.sortOrder=!this.sortOrder,this.field=e,this.operatorList.sort((function(t,n){return c.sortOrder?n[e].localeCompare(t[e]):t[e].localeCompare(n[e])}))}},{key:"deleteUser",value:function(e,c){var t=this;s.a.fire({title:"Do you want to delete this User?",showCancelButton:!0,confirmButtonText:"YES",cancelButtonText:"CANCEL"}).then((function(n){n.isConfirmed&&(t.ui.loader.show(),t.userService.deleteUser(c).subscribe((function(c){s.a.fire({icon:"success",title:"User Deleted Successfully",showConfirmButton:!1,timer:1500}),t.operatorList.splice(e,1),t.ui.loader.hide()}),(function(e){return t.ui.loader.hide()})))}))}},{key:"getUserDetail",value:function(e){var c=this;this.userService.getUserDetail(e).subscribe((function(e){e.data&&(c.detail=e.data)}))}},{key:"editUser",value:function(e){var c=this;this.ui.loader.show(),delete this.detail.validationToken,delete this.detail.createdOn,this.userService.editUser(e,this.detail).subscribe((function(e){c.closeEditModal.nativeElement.click(),c.detail={},c.ui.loader.hide(),c.getOperatorList()}),(function(e){c.ui.loader.hide()}))}}]),e}(),y.\u0275fac=function(e){return new(e||y)(u.Wb(l.e),u.Wb(b.a),u.Wb(h.a),u.Wb(g.a))},y.\u0275cmp=u.Qb({type:y,selectors:[["app-operator"]],viewQuery:function(e,c){var t;1&e&&u.Qc(p,!0),2&e&&u.Bc(t=u.lc())&&(c.closeEditModal=t.first)},decls:85,vars:16,consts:[[1,"container-fluid"],[1,"row","dash-tab"],[1,"col-sm-3"],[1,"form-group"],["data-toggle","modal","data-target","#addWaiter",1,"shortcut-btn","d-block","w-100"],[1,"offset-md-7","col-sm-12","col-md-2"],["name","pay","id","pay",1,"form-control","pl-0",3,"ngModel","ngModelChange","change"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"col-sm-12"],[1,"table-responsive"],[1,"table","details_table"],["scope","col"],["href","javascript:void(0)",1,"caret-sort",3,"click"],[1,"fa"],[4,"ngIf","ngIfElse"],["elseBlock",""],[2,"text-align","center",3,"pageChange"],["id","addWaiter","tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","fade","bd-example-modal-lg"],[1,"modal-dialog","modal-lg"],[1,"modal-content",2,"padding","2%"],["id","subform","role","form"],["subForm","ngForm"],[1,"row"],[1,"col-12"],[1,"offset-md-1","col-sm-12","col-md-5"],[1,"form-group","position-relative"],["type","text","placeholder","First Name","name","fname","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],[1,"col-sm-12","col-md-5"],["type","text","placeholder","Last Name","name","lname","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Email","name","em","autocomplete","new-password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Password","name","pass","autocomplete","new-password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Mobile Number","name","mob","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["for","inputGroupSelect01",1,"input-group-text"],["placeholder","Choose Status","id","inputGroupSelect01","name","branch",1,"custom-select",3,"ngModel","ngModelChange","change"],[4,"ngFor","ngForOf"],[1,"col-12",2,"text-align","center"],["type","button",1,"btn","btn-success",3,"disabled","click"],["id","addWaiter2","tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","fade","bd-example-modal-lg"],["closeEditModal",""],["id","subform2","role","form",4,"ngIf"],["type","button","data-toggle","modal","data-target","#addWaiter2",1,"btn","btn-success","btn-sm",3,"click"],[1,"fa","fa-pencil"],["type","button",1,"btn","btn-danger","btn-sm",2,"margin-left","4px",3,"click"],[1,"fa","fa-trash-o"],["colspan","100%",1,"text-center"],[3,"value"],["id","subform2","role","form"],["subForm2","ngForm"],["type","text","placeholder","First Name","name","fname1","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Last Name","name","lname1","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Phone","name","phe","autocomplete","new-password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Password","name","esssm","autocomplete","new-password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["placeholder","Choose Status","id","inputGroupSelect01","name","stat322",1,"custom-select",3,"ngModel","ngModelChange","change"],[3,"value","selected"]],template:function(e,c){if(1&e&&(u.cc(0,"div",0),u.cc(1,"div",1),u.cc(2,"div",2),u.cc(3,"div",3),u.cc(4,"button",4),u.cc(5,"b"),u.Lc(6,"+ Add Operator"),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(7,"div",5),u.cc(8,"div",3),u.Lc(9," SELECT PER PAGE "),u.cc(10,"select",6),u.kc("ngModelChange",(function(e){return c.selectedPerPage=e}))("change",(function(e){return c.onLimitSelect(e.target.value)})),u.cc(11,"option",7),u.Lc(12,"10"),u.bc(),u.cc(13,"option",8),u.Lc(14,"25"),u.bc(),u.cc(15,"option",9),u.Lc(16,"50"),u.bc(),u.cc(17,"option",10),u.Lc(18,"100"),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(19,"div",11),u.cc(20,"div",12),u.cc(21,"table",13),u.cc(22,"thead"),u.cc(23,"tr"),u.cc(24,"th",14),u.Lc(25,"Name"),u.cc(26,"a",15),u.kc("click",(function(){return c.changeOrder("firstName")})),u.Xb(27,"i",16),u.bc(),u.bc(),u.cc(28,"th",14),u.Lc(29,"Phone"),u.bc(),u.cc(30,"th",14),u.Lc(31,"User Name"),u.bc(),u.cc(32,"th",14),u.Lc(33,"Password"),u.bc(),u.cc(34,"th",14),u.Lc(35,"Branch"),u.bc(),u.cc(36,"th",14),u.Lc(37,"Action"),u.bc(),u.bc(),u.bc(),u.Jc(38,v,3,8,"tbody",17),u.Jc(39,M,4,1,"ng-template",null,18,u.Kc),u.bc(),u.cc(41,"pagination-controls",19),u.kc("pageChange",(function(e){return c.getOperatorList(e)})),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(42,"div",20),u.cc(43,"div",21),u.cc(44,"div",22),u.cc(45,"form",23,24),u.cc(47,"div",25),u.cc(48,"div",26),u.cc(49,"h5"),u.Lc(50,"Add an Employee"),u.bc(),u.bc(),u.cc(51,"div",27),u.cc(52,"div",28),u.cc(53,"input",29),u.kc("ngModelChange",(function(e){return c.firstName=e})),u.bc(),u.bc(),u.bc(),u.cc(54,"div",30),u.cc(55,"div",28),u.cc(56,"input",31),u.kc("ngModelChange",(function(e){return c.lastName=e})),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(57,"div",25),u.cc(58,"div",27),u.cc(59,"div",28),u.cc(60,"input",32),u.kc("ngModelChange",(function(e){return c.email=e})),u.bc(),u.bc(),u.bc(),u.cc(61,"div",30),u.cc(62,"div",28),u.cc(63,"input",33),u.kc("ngModelChange",(function(e){return c.password=e})),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(64,"div",25),u.cc(65,"div",27),u.cc(66,"div",28),u.cc(67,"input",34),u.kc("ngModelChange",(function(e){return c.phone=e})),u.bc(),u.bc(),u.bc(),u.cc(68,"div",30),u.cc(69,"div",28),u.cc(70,"div",35),u.cc(71,"div",36),u.cc(72,"label",37),u.Lc(73,"Branch"),u.bc(),u.bc(),u.cc(74,"select",38),u.kc("ngModelChange",(function(e){return c.selectedBranch=e}))("change",(function(e){return c.changeBranch(e.target.value)})),u.Jc(75,L,3,2,"ng-container",39),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(76,"div",25),u.cc(77,"div",40),u.cc(78,"button",41),u.kc("click",(function(){return c.addOperator()})),u.Lc(79,"SUBMIT"),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(80,"div",42,43),u.cc(82,"div",21),u.cc(83,"div",22),u.Jc(84,k,35,8,"form",44),u.bc(),u.bc(),u.bc()),2&e){var t=u.Cc(40),n=u.Cc(46);u.Jb(10),u.uc("ngModel",c.selectedPerPage),u.Jb(17),u.Nb("fa-caret-down",!c.sortOrder)("fa-caret-up",c.sortOrder),u.Jb(11),u.uc("ngIf",null==c.operatorList?null:c.operatorList.length)("ngIfElse",t),u.Jb(15),u.uc("ngModel",c.firstName),u.Jb(3),u.uc("ngModel",c.lastName),u.Jb(4),u.uc("ngModel",c.email),u.Jb(3),u.uc("ngModel",c.password),u.Jb(4),u.uc("ngModel",c.phone),u.Jb(7),u.uc("ngModel",c.selectedBranch),u.Jb(1),u.uc("ngForOf",c.branchList),u.Jb(3),u.uc("disabled",!n.valid),u.Jb(6),u.uc("ngIf",c.detail)}},directives:[a.p,a.h,a.k,a.l,a.r,n.l,r.c,a.s,a.i,a.j,a.b,a.o,n.k],pipes:[r.b,n.r],styles:[""]}),y)}],_=((w=function e(){_classCallCheck(this,e)}).\u0275mod=u.Ub({type:w}),w.\u0275inj=u.Tb({factory:function(e){return new(e||w)},imports:[[l.h.forChild(J)],l.h]}),w);t.d(c,"OperatorModule",(function(){return P}));var E,P=((E=function e(){_classCallCheck(this,e)}).\u0275mod=u.Ub({type:E}),E.\u0275inj=u.Tb({factory:function(e){return new(e||E)},providers:[b.a],imports:[[n.b,_,a.d,o.a,i.a,r.a]]}),E)}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"2wXy":function(e,c,t){"use strict";t.r(c);var i=t("ofXK"),o=t("tyNb"),a=t("PSD3"),n=t.n(a),l=t("fXoL"),s=t("AytR"),r=t("tk/3");let d=(()=>{class e{constructor(e){this.http=e}getSMList(e,c){return this.http.get(`${s.a.apiURL}/sm/view/all?per_page=${e}&current_page=${c}`)}addSM(e){return this.http.post(`${s.a.apiURL}/sm/signup`,e)}deleteSM(e){return this.http.get(`${s.a.apiURL}/sm/${e}/delete`)}getSMDetail(e){return this.http.get(`${s.a.apiURL}/sm/${e}/details`)}editSMDetail(e,c){return this.http.put(`${s.a.apiURL}/sm/${e}/edit`,c)}}return e.\u0275fac=function(c){return new(c||e)(l.gc(r.a))},e.\u0275prov=l.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var u=t("AXIP"),b=t("3Pt+"),g=t("oOf3");const m=["closeEditModal"];function h(e,c){if(1&e){const e=l.dc();l.cc(0,"tr"),l.cc(1,"td"),l.cc(2,"B"),l.Lc(3),l.pc(4,"titlecase"),l.pc(5,"titlecase"),l.bc(),l.bc(),l.cc(6,"td"),l.Lc(7),l.bc(),l.cc(8,"td"),l.Lc(9),l.bc(),l.cc(10,"td"),l.Lc(11),l.bc(),l.cc(12,"td"),l.Lc(13),l.pc(14,"titlecase"),l.bc(),l.cc(15,"td"),l.cc(16,"button",47),l.kc("click",(function(){l.Ec(e);const t=c.$implicit;return l.oc(2).getEmployeeDetail(t.stockManagerId)})),l.Xb(17,"i",48),l.bc(),l.cc(18,"button",49),l.kc("click",(function(){l.Ec(e);const t=c.index,i=c.$implicit;return l.oc(2).deleteEmployee(t,i.stockManagerId)})),l.Xb(19,"i",50),l.bc(),l.bc(),l.bc()}if(2&e){const e=c.$implicit;l.Jb(3),l.Oc("",l.qc(4,6,e.firstName)," ",l.qc(5,8,e.lastName),""),l.Jb(4),l.Mc(e.mobileNumber),l.Jb(2),l.Mc(e.email),l.Jb(2),l.Mc(e.password),l.Jb(2),l.Mc(l.qc(14,10,e.status))}}const p=function(e,c,t){return{itemsPerPage:e,currentPage:c,totalItems:t}};function f(e,c){if(1&e&&(l.cc(0,"tbody"),l.Jc(1,h,20,12,"tr",46),l.pc(2,"paginate"),l.bc()),2&e){const e=l.oc();l.Jb(1),l.uc("ngForOf",l.rc(2,1,e.employeeList,l.zc(4,p,e.selectedPerPage,e.currentpage,e.total)))}}function v(e,c){if(1&e&&(l.cc(0,"tbody"),l.cc(1,"tr"),l.cc(2,"td",51),l.Lc(3),l.bc(),l.bc(),l.bc()),2&e){const e=l.oc();l.Jb(3),l.Mc(e.response)}}function M(e,c){if(1&e){const e=l.dc();l.cc(0,"form",52,53),l.cc(2,"div",25),l.cc(3,"div",26),l.cc(4,"h5"),l.Lc(5,"Edit Stock Manager Detail"),l.bc(),l.bc(),l.cc(6,"div",27),l.cc(7,"div",28),l.cc(8,"input",54),l.kc("ngModelChange",(function(c){return l.Ec(e),l.oc().detail.firstName=c})),l.bc(),l.bc(),l.bc(),l.cc(9,"div",30),l.cc(10,"div",28),l.cc(11,"input",55),l.kc("ngModelChange",(function(c){return l.Ec(e),l.oc().detail.lastName=c})),l.bc(),l.bc(),l.bc(),l.bc(),l.cc(12,"div",25),l.cc(13,"div",27),l.cc(14,"div",28),l.cc(15,"input",32),l.kc("ngModelChange",(function(c){return l.Ec(e),l.oc().detail.email=c})),l.bc(),l.bc(),l.bc(),l.cc(16,"div",30),l.cc(17,"div",28),l.cc(18,"input",56),l.kc("ngModelChange",(function(c){return l.Ec(e),l.oc().detail.mobileNumber=c})),l.bc(),l.bc(),l.bc(),l.bc(),l.cc(19,"div",25),l.cc(20,"div",27),l.cc(21,"div",28),l.cc(22,"input",57),l.kc("ngModelChange",(function(c){return l.Ec(e),l.oc().detail.password=c})),l.bc(),l.bc(),l.bc(),l.cc(23,"div",30),l.cc(24,"div",28),l.cc(25,"div",35),l.cc(26,"div",36),l.cc(27,"label",37),l.Lc(28,"Status"),l.bc(),l.bc(),l.cc(29,"select",58),l.kc("ngModelChange",(function(c){return l.Ec(e),l.oc().detail.status=c}))("change",(function(c){return l.Ec(e),l.oc().editStatus(c.target.value)})),l.cc(30,"option",59),l.Lc(31,"Active"),l.bc(),l.cc(32,"option",60),l.Lc(33,"Inactive"),l.bc(),l.bc(),l.bc(),l.bc(),l.bc(),l.bc(),l.cc(34,"div",25),l.cc(35,"div",41),l.cc(36,"button",42),l.kc("click",(function(){l.Ec(e);const c=l.oc();return c.editEmployee(c.detail.stockManagerId)})),l.Lc(37,"EDIT"),l.bc(),l.bc(),l.bc(),l.bc()}if(2&e){const e=l.Cc(1),c=l.oc();l.Jb(8),l.uc("ngModel",c.detail.firstName),l.Jb(3),l.uc("ngModel",c.detail.lastName),l.Jb(4),l.uc("ngModel",c.detail.email),l.Jb(3),l.uc("ngModel",c.detail.mobileNumber),l.Jb(4),l.uc("ngModel",c.detail.password),l.Jb(7),l.uc("ngModel",c.detail.status),l.Jb(1),l.uc("selected","Active"===c.detail.status),l.Jb(2),l.uc("selected","Inactive"===c.detail.status),l.Jb(4),l.uc("disabled",!e.valid)}}const L=[{path:"",component:(()=>{class e{constructor(e,c,t){this.router=e,this.stockManagerService=c,this.ui=t,this.name=[],this.response="No Data Found",this.sortOrder=!1,this.fullName=localStorage.getItem("name"),this.employeeList=[],this.selectedPerPage=10,this.currentpage=1,this.onLimitSelect=e=>{this.selectedPerPage=e,this.getEmployeesList()},this.logout=()=>{localStorage.setItem("isLoggedIn",String(!1)),this.router.navigate(["/login"])}}ngOnInit(){this.getEmployeesList()}addStatus(e){this.status=e,console.log(this.status)}editStatus(e){this.detail.status=e,console.log(this.status)}getEmployeesList(e){this.ui.loader.show(),e&&(this.currentpage=e),this.stockManagerService.getSMList(this.selectedPerPage,this.currentpage).subscribe(e=>{e.data&&(this.employeeList=e.data.result,this.total=e.data.total),this.ui.loader.hide()},e=>this.ui.loader.hide())}addEmployee(){this.ui.loader.show();const e={firstName:this.firstName,lastName:this.lastName,mobileNumber:this.phone,email:this.email,password:this.password,status:this.status};this.employeeList.push(e),this.stockManagerService.addSM(e).subscribe(e=>{this.firstName="",this.lastName="",this.phone="",this.email="",this.password="",this.status="",n.a.fire({icon:"success",title:"Stock Manager Created Successfully",showConfirmButton:!1,timer:1500}),this.ui.loader.hide()},e=>this.ui.loader.hide())}changeOrder(e){this.sortOrder=!this.sortOrder,this.field=e,this.employeeList.sort((c,t)=>this.sortOrder?t[e].localeCompare(c[e]):c[e].localeCompare(t[e]))}deleteEmployee(e,c){n.a.fire({title:"Do you want to delete this Stock Manager?",showCancelButton:!0,confirmButtonText:"YES",cancelButtonText:"CANCEL"}).then(t=>{t.isConfirmed&&(this.ui.loader.show(),this.stockManagerService.deleteSM(c).subscribe(c=>{n.a.fire({icon:"success",title:"User Deleted Successfully",showConfirmButton:!1,timer:1500}),this.employeeList.splice(e,1),this.ui.loader.hide()},e=>this.ui.loader.hide()))})}getEmployeeDetail(e){this.stockManagerService.getSMDetail(e).subscribe(e=>{e.data&&(this.detail=e.data)})}editEmployee(e){this.ui.loader.show(),delete this.detail.validationToken,delete this.detail.createdOn,this.stockManagerService.editSMDetail(e,this.detail).subscribe(e=>{this.closeEditModal.nativeElement.click(),this.detail={},this.ui.loader.hide(),this.getEmployeesList()},e=>{this.ui.loader.hide()})}}return e.\u0275fac=function(c){return new(c||e)(l.Wb(o.e),l.Wb(d),l.Wb(u.a))},e.\u0275cmp=l.Qb({type:e,selectors:[["app-stock-manager"]],viewQuery:function(e,c){var t;1&e&&l.Qc(m,!0),2&e&&l.Bc(t=l.lc())&&(c.closeEditModal=t.first)},decls:88,vars:15,consts:[[1,"container-fluid"],[1,"row","dash-tab"],[1,"col-sm-3"],[1,"form-group"],["data-toggle","modal","data-target","#addWaiter",1,"shortcut-btn","d-block","w-100"],[1,"offset-md-7","col-sm-12","col-md-2"],["name","pay","id","pay",1,"form-control","pl-0",3,"ngModel","ngModelChange","change"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"col-sm-12"],[1,"table-responsive"],[1,"table","details_table"],["scope","col"],["href","javascript:void(0)",1,"caret-sort",3,"click"],[1,"fa"],[4,"ngIf","ngIfElse"],["elseBlock",""],[2,"text-align","center",3,"pageChange"],["id","addWaiter","tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","fade","bd-example-modal-lg"],[1,"modal-dialog","modal-lg"],[1,"modal-content",2,"padding","2%"],["id","subform","role","form"],["subForm","ngForm"],[1,"row"],[1,"col-12"],[1,"offset-md-1","col-sm-12","col-md-5"],[1,"form-group","position-relative"],["type","text","placeholder","First Name","name","fname","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],[1,"col-sm-12","col-md-5"],["type","text","placeholder","Last Name","name","lname","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Email","name","em","autocomplete","new-password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Password","name","pass","autocomplete","new-password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Mobile Number","name","mob","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["for","inputGroupSelect01",1,"input-group-text"],["placeholder","Choose Status","id","inputGroupSelect01","name","stat",1,"custom-select",3,"ngModel","ngModelChange","change"],["value","Active"],["value","Inactive"],[1,"col-12",2,"text-align","center"],["type","button",1,"btn","btn-success",3,"disabled","click"],["id","addWaiter2","tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","fade","bd-example-modal-lg"],["closeEditModal",""],["id","subform2","role","form",4,"ngIf"],[4,"ngFor","ngForOf"],["type","button","data-toggle","modal","data-target","#addWaiter2",1,"btn","btn-success","btn-sm",3,"click"],[1,"fa","fa-pencil"],["type","button",1,"btn","btn-danger","btn-sm",2,"margin-left","4px",3,"click"],[1,"fa","fa-trash-o"],["colspan","100%",1,"text-center"],["id","subform2","role","form"],["subForm2","ngForm"],["type","text","placeholder","First Name","name","fname1","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Last Name","name","lname1","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Phone","name","phe","autocomplete","new-password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Password","name","esssm","autocomplete","new-password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["placeholder","Choose Status","id","inputGroupSelect01","name","stat2",1,"custom-select",3,"ngModel","ngModelChange","change"],["value","Active",3,"selected"],["value","Inactive",3,"selected"]],template:function(e,c){if(1&e&&(l.cc(0,"div",0),l.cc(1,"div",1),l.cc(2,"div",2),l.cc(3,"div",3),l.cc(4,"button",4),l.cc(5,"b"),l.Lc(6,"+ Add Stock Manager"),l.bc(),l.bc(),l.bc(),l.bc(),l.cc(7,"div",5),l.cc(8,"div",3),l.Lc(9," SELECT PER PAGE "),l.cc(10,"select",6),l.kc("ngModelChange",(function(e){return c.selectedPerPage=e}))("change",(function(e){return c.onLimitSelect(e.target.value)})),l.cc(11,"option",7),l.Lc(12,"10"),l.bc(),l.cc(13,"option",8),l.Lc(14,"25"),l.bc(),l.cc(15,"option",9),l.Lc(16,"50"),l.bc(),l.cc(17,"option",10),l.Lc(18,"100"),l.bc(),l.bc(),l.bc(),l.bc(),l.cc(19,"div",11),l.cc(20,"div",12),l.cc(21,"table",13),l.cc(22,"thead"),l.cc(23,"tr"),l.cc(24,"th",14),l.Lc(25,"Name"),l.cc(26,"a",15),l.kc("click",(function(){return c.changeOrder("firstName")})),l.Xb(27,"i",16),l.bc(),l.bc(),l.cc(28,"th",14),l.Lc(29,"Phone"),l.bc(),l.cc(30,"th",14),l.Lc(31,"User Name"),l.bc(),l.cc(32,"th",14),l.Lc(33,"Password"),l.bc(),l.cc(34,"th",14),l.Lc(35,"Status"),l.bc(),l.cc(36,"th",14),l.Lc(37,"Action"),l.bc(),l.bc(),l.bc(),l.Jc(38,f,3,8,"tbody",17),l.Jc(39,v,4,1,"ng-template",null,18,l.Kc),l.bc(),l.cc(41,"pagination-controls",19),l.kc("pageChange",(function(e){return c.getEmployeesList(e)})),l.bc(),l.bc(),l.bc(),l.bc(),l.bc(),l.cc(42,"div",20),l.cc(43,"div",21),l.cc(44,"div",22),l.cc(45,"form",23,24),l.cc(47,"div",25),l.cc(48,"div",26),l.cc(49,"h5"),l.Lc(50,"Add Stock Manager"),l.bc(),l.bc(),l.cc(51,"div",27),l.cc(52,"div",28),l.cc(53,"input",29),l.kc("ngModelChange",(function(e){return c.firstName=e})),l.bc(),l.bc(),l.bc(),l.cc(54,"div",30),l.cc(55,"div",28),l.cc(56,"input",31),l.kc("ngModelChange",(function(e){return c.lastName=e})),l.bc(),l.bc(),l.bc(),l.bc(),l.cc(57,"div",25),l.cc(58,"div",27),l.cc(59,"div",28),l.cc(60,"input",32),l.kc("ngModelChange",(function(e){return c.email=e})),l.bc(),l.bc(),l.bc(),l.cc(61,"div",30),l.cc(62,"div",28),l.cc(63,"input",33),l.kc("ngModelChange",(function(e){return c.password=e})),l.bc(),l.bc(),l.bc(),l.bc(),l.cc(64,"div",25),l.cc(65,"div",27),l.cc(66,"div",28),l.cc(67,"input",34),l.kc("ngModelChange",(function(e){return c.phone=e})),l.bc(),l.bc(),l.bc(),l.cc(68,"div",30),l.cc(69,"div",28),l.cc(70,"div",35),l.cc(71,"div",36),l.cc(72,"label",37),l.Lc(73,"Status"),l.bc(),l.bc(),l.cc(74,"select",38),l.kc("ngModelChange",(function(e){return c.status=e}))("change",(function(e){return c.addStatus(e.target.value)})),l.cc(75,"option",39),l.Lc(76,"Active"),l.bc(),l.cc(77,"option",40),l.Lc(78,"Inactive"),l.bc(),l.bc(),l.bc(),l.bc(),l.bc(),l.bc(),l.cc(79,"div",25),l.cc(80,"div",41),l.cc(81,"button",42),l.kc("click",(function(){return c.addEmployee()})),l.Lc(82,"SUBMIT"),l.bc(),l.bc(),l.bc(),l.bc(),l.bc(),l.bc(),l.bc(),l.cc(83,"div",43,44),l.cc(85,"div",21),l.cc(86,"div",22),l.Jc(87,M,38,9,"form",45),l.bc(),l.bc(),l.bc()),2&e){const e=l.Cc(40),t=l.Cc(46);l.Jb(10),l.uc("ngModel",c.selectedPerPage),l.Jb(17),l.Nb("fa-caret-down",!c.sortOrder)("fa-caret-up",c.sortOrder),l.Jb(11),l.uc("ngIf",null==c.employeeList?null:c.employeeList.length)("ngIfElse",e),l.Jb(15),l.uc("ngModel",c.firstName),l.Jb(3),l.uc("ngModel",c.lastName),l.Jb(4),l.uc("ngModel",c.email),l.Jb(3),l.uc("ngModel",c.password),l.Jb(4),l.uc("ngModel",c.phone),l.Jb(7),l.uc("ngModel",c.status),l.Jb(7),l.uc("disabled",!t.valid),l.Jb(6),l.uc("ngIf",c.detail)}},directives:[b.p,b.h,b.k,b.l,b.r,i.l,g.c,b.s,b.i,b.j,b.b,b.o,i.k],pipes:[g.b,i.r],styles:[""]}),e})()}];let y=(()=>{class e{}return e.\u0275mod=l.Ub({type:e}),e.\u0275inj=l.Tb({factory:function(c){return new(c||e)},imports:[[o.h.forChild(L)],o.h]}),e})();t.d(c,"StockManagerModule",(function(){return k}));let k=(()=>{class e{}return e.\u0275mod=l.Ub({type:e}),e.\u0275inj=l.Tb({factory:function(c){return new(c||e)},imports:[[i.b,y,b.d,g.a]]}),e})()}}]);
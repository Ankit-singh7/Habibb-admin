(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{r2I4:function(e,c,t){"use strict";t.r(c);var i=t("ofXK"),o=t("3Pt+"),n=t("tyNb"),a=t("PSD3"),l=t.n(a),s=t("xgIS"),r=t("lJxs"),d=t("Kj3r"),b=t("/uUt"),u=t("fXoL"),p=t("rwBg"),m=t("AXIP"),g=t("oOf3");const h=["closeEditModal"],f=["employeeName"];function v(e,c){if(1&e){const e=u.dc();u.cc(0,"tr"),u.cc(1,"td"),u.cc(2,"B"),u.Mc(3),u.pc(4,"titlecase"),u.pc(5,"titlecase"),u.bc(),u.bc(),u.cc(6,"td"),u.Mc(7),u.bc(),u.cc(8,"td"),u.Mc(9),u.bc(),u.cc(10,"td"),u.Mc(11),u.bc(),u.cc(12,"td"),u.Mc(13),u.bc(),u.cc(14,"td"),u.Mc(15),u.pc(16,"titlecase"),u.bc(),u.cc(17,"td"),u.cc(18,"button",52),u.kc("click",(function(){u.Fc(e);const t=c.$implicit;return u.oc(2).getUserDetail(t.user_id)})),u.Xb(19,"i",53),u.bc(),u.cc(20,"button",54),u.kc("click",(function(){u.Fc(e);const t=c.index,i=c.$implicit;return u.oc(2).deleteUser(t,i.user_id)})),u.Xb(21,"i",55),u.bc(),u.bc(),u.bc()}if(2&e){const e=c.$implicit;u.Jb(3),u.Pc("",u.qc(4,7,e.f_name)," ",u.qc(5,9,e.l_name),""),u.Jb(4),u.Nc(e.phone),u.Jb(2),u.Nc(e.email),u.Jb(2),u.Nc(e.password),u.Jb(2),u.Nc(e.designation),u.Jb(2),u.Nc(u.qc(16,11,e.status))}}const M=function(e,c,t){return{itemsPerPage:e,currentPage:c,totalItems:t}};function y(e,c){if(1&e&&(u.cc(0,"tbody"),u.Kc(1,v,22,13,"tr",51),u.pc(2,"paginate"),u.bc()),2&e){const e=u.oc();u.Jb(1),u.vc("ngForOf",u.rc(2,1,e.employeeList,u.Ac(4,M,e.selectedPerPage,e.currentpage,e.total)))}}function C(e,c){if(1&e&&(u.cc(0,"tbody"),u.cc(1,"tr"),u.cc(2,"td",56),u.Mc(3),u.bc(),u.bc(),u.bc()),2&e){const e=u.oc();u.Jb(3),u.Nc(e.response)}}function w(e,c){if(1&e){const e=u.dc();u.cc(0,"form",57,58),u.cc(2,"div",28),u.cc(3,"div",29),u.cc(4,"h5"),u.Mc(5,"Edit Employee Detail"),u.bc(),u.bc(),u.cc(6,"div",30),u.cc(7,"div",31),u.cc(8,"input",59),u.kc("ngModelChange",(function(c){return u.Fc(e),u.oc().detail.f_name=c})),u.bc(),u.bc(),u.bc(),u.cc(9,"div",33),u.cc(10,"div",31),u.cc(11,"input",60),u.kc("ngModelChange",(function(c){return u.Fc(e),u.oc().detail.l_name=c})),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(12,"div",28),u.cc(13,"div",30),u.cc(14,"div",31),u.cc(15,"input",35),u.kc("ngModelChange",(function(c){return u.Fc(e),u.oc().detail.email=c})),u.bc(),u.bc(),u.bc(),u.cc(16,"div",33),u.cc(17,"div",31),u.cc(18,"input",61),u.kc("ngModelChange",(function(c){return u.Fc(e),u.oc().detail.phone=c})),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(19,"div",28),u.cc(20,"div",30),u.cc(21,"div",31),u.cc(22,"input",62),u.kc("ngModelChange",(function(c){return u.Fc(e),u.oc().detail.password=c})),u.bc(),u.bc(),u.bc(),u.cc(23,"div",33),u.cc(24,"div",31),u.cc(25,"input",63),u.kc("ngModelChange",(function(c){return u.Fc(e),u.oc().detail.designation=c})),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(26,"div",28),u.cc(27,"div",39),u.cc(28,"div",31),u.cc(29,"div",40),u.cc(30,"div",41),u.cc(31,"label",42),u.Mc(32,"Status"),u.bc(),u.bc(),u.cc(33,"select",64),u.kc("ngModelChange",(function(c){return u.Fc(e),u.oc().detail.status=c}))("change",(function(c){return u.Fc(e),u.oc().editStatus(c.target.value)})),u.cc(34,"option",65),u.Mc(35,"Active"),u.bc(),u.cc(36,"option",66),u.Mc(37,"Inactive"),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(38,"div",28),u.cc(39,"div",46),u.cc(40,"button",47),u.kc("click",(function(){u.Fc(e);const c=u.oc();return c.editUser(c.detail.user_id)})),u.Mc(41,"EDIT"),u.bc(),u.bc(),u.bc(),u.bc()}if(2&e){const e=u.Dc(1),c=u.oc();u.Jb(8),u.vc("ngModel",c.detail.f_name),u.Jb(3),u.vc("ngModel",c.detail.l_name),u.Jb(4),u.vc("ngModel",c.detail.email),u.Jb(3),u.vc("ngModel",c.detail.phone),u.Jb(4),u.vc("ngModel",c.detail.password),u.Jb(3),u.vc("ngModel",c.detail.designation),u.Jb(8),u.vc("ngModel",c.detail.status),u.Jb(1),u.vc("selected","Active"===c.detail.status),u.Jb(2),u.vc("selected","Inactive"===c.detail.status),u.Jb(4),u.vc("disabled",!e.valid)}}const k=[{path:"",component:(()=>{class e{constructor(e,c,t){this.router=e,this.userService=c,this.ui=t,this.name=[],this.response="No Data Found",this.sortOrder=!1,this.fullName=localStorage.getItem("name"),this.employeeList=[],this.selectedPerPage=10,this.currentpage=1,this.onLimitSelect=e=>{this.selectedPerPage=e,this.getEmployeesList()},this.logout=()=>{localStorage.setItem("isLoggedIn",String(!1)),this.router.navigate(["/login"])}}ngOnInit(){this.getEmployeesList()}ngAfterViewInit(){Object(s.a)(this.employeeName.nativeElement,"input").pipe(Object(r.a)(e=>e.target.value)).pipe(Object(d.a)(1e3)).pipe(Object(b.a)()).subscribe(e=>{this.firstName=e?this.titleCase(e):"",this.getEmployeesList()})}addStatus(e){this.status=e,console.log(this.status)}editStatus(e){this.detail.status=e,console.log(this.status)}getEmployeesList(e){this.ui.loader.show();let c={f_name:this.firstName},t="";for(let i in c)c[i]&&(t=`${t}${i}=${c[i]}&`);console.log(t),this.userService.getAllEmployee(t).subscribe(e=>{e.data&&(this.employeeList=e.data.result,this.total=e.data.total),this.ui.loader.hide()},e=>this.ui.loader.hide())}titleCase(e){for(var c=e.toLowerCase().split(" "),t=0;t<c.length;t++)c[t]=c[t][0].toUpperCase()+c[t].slice(1);return c}addEmployee(){this.ui.loader.show();const e={f_name:this.firstName,l_name:this.lastName,phone:this.phone,email:this.email,password:this.password,designation:this.designation,role:"employee",status:this.status};this.employeeList.push(e),this.userService.addEmployee(e).subscribe(e=>{this.firstName="",this.lastName="",this.phone="",this.email="",this.password="",this.status="",l.a.fire({icon:"success",title:"User Created Successfully",showConfirmButton:!1,timer:1500}),this.ui.loader.hide()},e=>this.ui.loader.hide())}changeOrder(e){this.sortOrder=!this.sortOrder,this.field=e,this.employeeList.sort((c,t)=>this.sortOrder?t[e].localeCompare(c[e]):c[e].localeCompare(t[e]))}deleteUser(e,c){l.a.fire({title:"Do you want to delete this User?",showCancelButton:!0,confirmButtonText:"YES",cancelButtonText:"CANCEL"}).then(t=>{t.isConfirmed&&(this.ui.loader.show(),this.userService.deleteUser(c).subscribe(c=>{l.a.fire({icon:"success",title:"User Deleted Successfully",showConfirmButton:!1,timer:1500}),this.employeeList.splice(e,1),this.ui.loader.hide()},e=>this.ui.loader.hide()))})}getUserDetail(e){this.userService.getUserDetail(e).subscribe(e=>{e.data&&(this.detail=e.data)})}editUser(e){this.ui.loader.show(),delete this.detail.validationToken,delete this.detail.createdOn,this.userService.editUser(e,this.detail).subscribe(e=>{this.closeEditModal.nativeElement.click(),this.detail={},this.ui.loader.hide(),this.getEmployeesList()},e=>{this.ui.loader.hide()})}}return e.\u0275fac=function(c){return new(c||e)(u.Wb(n.e),u.Wb(p.a),u.Wb(m.a))},e.\u0275cmp=u.Qb({type:e,selectors:[["app-employee"]],viewQuery:function(e,c){var t;1&e&&(u.Rc(h,!0),u.Rc(f,!0)),2&e&&(u.Cc(t=u.lc())&&(c.closeEditModal=t.first),u.Cc(t=u.lc())&&(c.employeeName=t.first))},decls:99,vars:17,consts:[[1,"container-fluid"],[1,"row","dash-tab"],[1,"col-sm-3"],[1,"form-group"],["data-toggle","modal","data-target","#addWaiter",1,"shortcut-btn","d-block","w-100"],[1,"offset-md-4","col-md-3","col-sm-12","cus-srch"],["type","text","id","birthday","placeholder","Search By First Name","name","searchName",1,"form-control","pl-0",3,"ngModel","ngModelChange"],["employeeName",""],[1,"col-sm-12","col-md-2"],["name","pay","id","pay",1,"form-control","pl-0",3,"ngModel","ngModelChange","change"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"col-sm-12"],[1,"table-responsive"],[1,"table","details_table"],["scope","col"],["href","javascript:void(0)",1,"caret-sort",3,"click"],[1,"fa"],[4,"ngIf","ngIfElse"],["elseBlock",""],[2,"text-align","center",3,"pageChange"],["id","addWaiter","tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","fade","bd-example-modal-lg"],[1,"modal-dialog","modal-lg"],[1,"modal-content",2,"padding","2%"],["id","subform","role","form"],["subForm","ngForm"],[1,"row"],[1,"col-12"],[1,"offset-md-1","col-sm-12","col-md-5"],[1,"form-group","position-relative"],["type","text","placeholder","First Name","name","fname","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],[1,"col-sm-12","col-md-5"],["type","text","placeholder","Last Name","name","lname","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Email","name","em","autocomplete","new-password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Password","name","pass","autocomplete","new-password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Mobile Number","name","mob","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Designation","name","dg","autocomplete","new-password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],[1,"offset-md-4","col-sm-12","col-md-5"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["for","inputGroupSelect01",1,"input-group-text"],["placeholder","Choose Status","id","inputGroupSelect01","name","stat",1,"custom-select",3,"ngModel","ngModelChange","change"],["value","Active"],["value","Inactive"],[1,"col-12",2,"text-align","center"],["type","button",1,"btn","btn-success",3,"disabled","click"],["id","addWaiter2","tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","fade","bd-example-modal-lg"],["closeEditModal",""],["id","subform2","role","form",4,"ngIf"],[4,"ngFor","ngForOf"],["type","button","data-toggle","modal","data-target","#addWaiter2",1,"btn","btn-success","btn-sm",3,"click"],[1,"fa","fa-pencil"],["type","button",1,"btn","btn-danger","btn-sm",2,"margin-left","4px",3,"click"],[1,"fa","fa-trash-o"],["colspan","100%",1,"text-center"],["id","subform2","role","form"],["subForm2","ngForm"],["type","text","placeholder","First Name","name","fname1","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Last Name","name","lname1","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Phone","name","phe","autocomplete","new-password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Password","name","esssm","autocomplete","new-password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Designation","name","em","autocomplete","new-password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["placeholder","Choose Status","id","inputGroupSelect01","name","stat2",1,"custom-select",3,"ngModel","ngModelChange","change"],["value","Active",3,"selected"],["value","Inactive",3,"selected"]],template:function(e,c){if(1&e&&(u.cc(0,"div",0),u.cc(1,"div",1),u.cc(2,"div",2),u.cc(3,"div",3),u.cc(4,"button",4),u.cc(5,"b"),u.Mc(6,"+ Add Employee"),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(7,"div",5),u.cc(8,"div",3),u.Mc(9," SEARCH BY NAME "),u.cc(10,"input",6,7),u.kc("ngModelChange",(function(e){return c.firstName=e})),u.bc(),u.bc(),u.bc(),u.cc(12,"div",8),u.cc(13,"div",3),u.Mc(14," SELECT PER PAGE "),u.cc(15,"select",9),u.kc("ngModelChange",(function(e){return c.selectedPerPage=e}))("change",(function(e){return c.onLimitSelect(e.target.value)})),u.cc(16,"option",10),u.Mc(17,"10"),u.bc(),u.cc(18,"option",11),u.Mc(19,"25"),u.bc(),u.cc(20,"option",12),u.Mc(21,"50"),u.bc(),u.cc(22,"option",13),u.Mc(23,"100"),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(24,"div",14),u.cc(25,"div",15),u.cc(26,"table",16),u.cc(27,"thead"),u.cc(28,"tr"),u.cc(29,"th",17),u.Mc(30,"Name"),u.cc(31,"a",18),u.kc("click",(function(){return c.changeOrder("firstName")})),u.Xb(32,"i",19),u.bc(),u.bc(),u.cc(33,"th",17),u.Mc(34,"Phone"),u.bc(),u.cc(35,"th",17),u.Mc(36,"User Name"),u.bc(),u.cc(37,"th",17),u.Mc(38,"Password"),u.bc(),u.cc(39,"th",17),u.Mc(40,"Designation"),u.bc(),u.cc(41,"th",17),u.Mc(42,"Status"),u.bc(),u.cc(43,"th",17),u.Mc(44,"Action"),u.bc(),u.bc(),u.bc(),u.Kc(45,y,3,8,"tbody",20),u.Kc(46,C,4,1,"ng-template",null,21,u.Lc),u.bc(),u.cc(48,"pagination-controls",22),u.kc("pageChange",(function(e){return c.getEmployeesList(e)})),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(49,"div",23),u.cc(50,"div",24),u.cc(51,"div",25),u.cc(52,"form",26,27),u.cc(54,"div",28),u.cc(55,"div",29),u.cc(56,"h5"),u.Mc(57,"Add an Employee"),u.bc(),u.bc(),u.cc(58,"div",30),u.cc(59,"div",31),u.cc(60,"input",32),u.kc("ngModelChange",(function(e){return c.firstName=e})),u.bc(),u.bc(),u.bc(),u.cc(61,"div",33),u.cc(62,"div",31),u.cc(63,"input",34),u.kc("ngModelChange",(function(e){return c.lastName=e})),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(64,"div",28),u.cc(65,"div",30),u.cc(66,"div",31),u.cc(67,"input",35),u.kc("ngModelChange",(function(e){return c.email=e})),u.bc(),u.bc(),u.bc(),u.cc(68,"div",33),u.cc(69,"div",31),u.cc(70,"input",36),u.kc("ngModelChange",(function(e){return c.password=e})),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(71,"div",28),u.cc(72,"div",30),u.cc(73,"div",31),u.cc(74,"input",37),u.kc("ngModelChange",(function(e){return c.phone=e})),u.bc(),u.bc(),u.bc(),u.cc(75,"div",33),u.cc(76,"div",31),u.cc(77,"input",38),u.kc("ngModelChange",(function(e){return c.designation=e})),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(78,"div",28),u.cc(79,"div",39),u.cc(80,"div",31),u.cc(81,"div",40),u.cc(82,"div",41),u.cc(83,"label",42),u.Mc(84,"Status"),u.bc(),u.bc(),u.cc(85,"select",43),u.kc("ngModelChange",(function(e){return c.status=e}))("change",(function(e){return c.addStatus(e.target.value)})),u.cc(86,"option",44),u.Mc(87,"Active"),u.bc(),u.cc(88,"option",45),u.Mc(89,"Inactive"),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(90,"div",28),u.cc(91,"div",46),u.cc(92,"button",47),u.kc("click",(function(){return c.addEmployee()})),u.Mc(93,"SUBMIT"),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(94,"div",48,49),u.cc(96,"div",24),u.cc(97,"div",25),u.Kc(98,w,42,10,"form",50),u.bc(),u.bc(),u.bc()),2&e){const e=u.Dc(47),t=u.Dc(53);u.Jb(10),u.vc("ngModel",c.firstName),u.Jb(5),u.vc("ngModel",c.selectedPerPage),u.Jb(17),u.Nb("fa-caret-down",!c.sortOrder)("fa-caret-up",c.sortOrder),u.Jb(13),u.vc("ngIf",null==c.employeeList?null:c.employeeList.length)("ngIfElse",e),u.Jb(15),u.vc("ngModel",c.firstName),u.Jb(3),u.vc("ngModel",c.lastName),u.Jb(4),u.vc("ngModel",c.email),u.Jb(3),u.vc("ngModel",c.password),u.Jb(4),u.vc("ngModel",c.phone),u.Jb(3),u.vc("ngModel",c.designation),u.Jb(8),u.vc("ngModel",c.status),u.Jb(7),u.vc("disabled",!t.valid),u.Jb(6),u.vc("ngIf",c.detail)}},directives:[o.b,o.h,o.k,o.p,o.l,o.r,i.l,g.c,o.s,o.i,o.j,o.o,i.k],pipes:[g.b,i.r],styles:[""]}),e})()}];let E=(()=>{class e{}return e.\u0275mod=u.Ub({type:e}),e.\u0275inj=u.Tb({factory:function(c){return new(c||e)},imports:[[n.h.forChild(k)],n.h]}),e})();var N=t("wloI"),J=t("ZOsW"),L=t("AytR"),S=t("tk/3");let x=(()=>{class e{constructor(e){this.http=e}getEmployeeList(e,c){return this.http.get(`${L.a.apiURL}/users/view/all?per_page=${e}&current_page=${c}`)}addEmployee(e){return this.http.post(`${L.a.apiURL}/users/signup`,e)}deleteEmployee(e){return this.http.get(`${L.a.apiURL}/users/${e}/delete`)}getEmployeeDetail(e){return this.http.get(`${L.a.apiURL}/users/${e}/details`)}editEmployeeDetail(e,c){return this.http.put(`${L.a.apiURL}/users/${e}/edit`,c)}}return e.\u0275fac=function(c){return new(c||e)(u.gc(S.a))},e.\u0275prov=u.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();t.d(c,"EmployeeModule",(function(){return I}));let I=(()=>{class e{}return e.\u0275mod=u.Ub({type:e}),e.\u0275inj=u.Tb({factory:function(c){return new(c||e)},providers:[x],imports:[[i.b,E,o.d,J.a,N.a,g.a]]}),e})()}}]);
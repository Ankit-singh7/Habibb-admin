function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,c=new Array(e);n<e;n++)c[n]=t[n];return c}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var c=e[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{aHER:function(t,e,n){"use strict";n.r(e);var c=n("ofXK"),r=n("tyNb"),a=n("fXoL"),o=n("sumL"),i=n("f4UJ"),s=n("AXIP"),u=n("3Pt+");function l(t,e){if(1&t&&(a.ac(0),a.cc(1,"option",14),a.Mc(2),a.bc(),a.Zb()),2&t){var n=e.$implicit;a.Jb(1),a.vc("value",n.id),a.Jb(1),a.Nc(n.name)}}function p(t,e){if(1&t&&(a.cc(0,"tr"),a.cc(1,"td"),a.cc(2,"B"),a.Mc(3),a.pc(4,"titlecase"),a.bc(),a.bc(),a.cc(5,"td"),a.Mc(6),a.bc(),a.cc(7,"td"),a.Mc(8),a.bc(),a.cc(9,"td"),a.Mc(10),a.pc(11,"titlecase"),a.bc(),a.cc(12,"td"),a.Mc(13),a.bc(),a.cc(14,"td"),a.Mc(15),a.bc(),a.cc(16,"td"),a.Mc(17),a.pc(18,"date"),a.bc(),a.bc()),2&t){var n=e.$implicit;a.Jb(3),a.Nc(a.qc(4,7,n.customer_name)),a.Jb(3),a.Oc(" ",0===n.booking_amount?"-":"\u20b9 "+n.booking_amount,""),a.Jb(2),a.Oc(" ",n.payment_mode?n.payment_mode:"-",""),a.Jb(2),a.Oc(" ",a.qc(11,9,n.purpose),""),a.Jb(3),a.Oc(" ",n.appointment_date,""),a.Jb(2),a.Oc(" ",n.appointment_time,""),a.Jb(2),a.Oc(" ",a.rc(18,11,n.createdOn,"MMM d, y"),"")}}function d(t,e){if(1&t&&(a.cc(0,"tbody",15),a.Kc(1,p,19,14,"tr",5),a.bc()),2&t){var n=a.oc();a.Jb(1),a.vc("ngForOf",n.appointmentList)}}function b(t,e){1&t&&(a.cc(0,"tbody"),a.cc(1,"tr"),a.cc(2,"td",16),a.Mc(3,"No Appointments to show."),a.bc(),a.bc(),a.bc())}var h,f,m=[{path:"",component:(h=function(){function t(e,n,c,r){var a=this;_classCallCheck(this,t),this.router=e,this.billingService=n,this.branchService=c,this.ui=r,this.appointmentList=[],this.sortFields={customer_name:!0,booking_amount:!0,payment_mode:!0,createdOn:!0,appointment_date:!0,appointment_time:!0,purpose:!0},this.sortOrder=!1,this.branchList=[],this.getAllBranch=function(){a.branchService.getBranchList().subscribe((function(t){if(t.data){var e=t.data.map((function(t){return{id:t.branch_id,name:t.branch_name}}));a.branchList=[{id:"",name:"All"}].concat(_toConsumableArray(e))}}))},this.logout=function(){localStorage.setItem("isLoggedIn",String(!1)),a.router.navigate(["/login"])}}return _createClass(t,[{key:"ngOnInit",value:function(){this.getAppointmentList(),this.getAllBranch()}},{key:"onOptionSelect",value:function(t){this.selectedBranchId=t,this.getAppointmentList()}},{key:"getAppointmentList",value:function(){var t=this;this.ui.loader.show();var e={branch_id:this.selectedBranchId},n="";for(var c in e)e[c]&&(n="".concat(n).concat(c,"=").concat(e[c],"&"));this.billingService.getAppointmentList(n).subscribe((function(e){e.data?(t.appointmentList=e.data.result,t.ui.loader.hide()):(t.appointmentList=[],t.ui.loader.hide())}))}},{key:"changeOrder",value:function(t){var e=this;this.sortOrder=!this.sortOrder,this.field=t,this.sortFields[t]=this.sortOrder,this.appointmentList.sort((function(n,c){return"booking_amount"===t?e.sortOrder?c[t]-n[t]:n[t]-c[t]:e.sortOrder?c[t].localeCompare(n[t]):n[t].localeCompare(c[t])}))}}]),t}(),h.\u0275fac=function(t){return new(t||h)(a.Wb(r.e),a.Wb(o.a),a.Wb(i.a),a.Wb(s.a))},h.\u0275cmp=a.Qb({type:h,selectors:[["app-appointment-list"]],decls:43,vars:32,consts:[[1,"container-fluid"],[1,"row","dash-tab"],[1,"col-sm-3","cus-srch"],[1,"form-group"],["name","dev","id","dev",1,"form-control","pl-0",3,"ngModel","ngModelChange","change"],[4,"ngFor","ngForOf"],[1,"col-sm-12"],[1,"table-responsive"],[1,"table","details_table"],["scope","col"],["href","javascript:void(0)",1,"caret-sort",3,"click"],[1,"fa"],["style","width:100%",4,"ngIf","ngIfElse"],["elseBlock",""],[3,"value"],[2,"width","100%"],["colspan","100%",1,"text-center"]],template:function(t,e){if(1&t&&(a.cc(0,"div",0),a.cc(1,"div",1),a.cc(2,"div",2),a.cc(3,"div",3),a.Mc(4," BRANCH WISE "),a.cc(5,"select",4),a.kc("ngModelChange",(function(t){return e.selectedBranchId=t}))("change",(function(t){return e.onOptionSelect(t.target.value)})),a.Kc(6,l,3,2,"ng-container",5),a.bc(),a.bc(),a.bc(),a.cc(7,"div",6),a.cc(8,"div",7),a.cc(9,"table",8),a.cc(10,"thead"),a.cc(11,"tr"),a.cc(12,"th",9),a.Mc(13,"Customer Name"),a.cc(14,"a",10),a.kc("click",(function(){return e.changeOrder("customer_name")})),a.Xb(15,"i",11),a.bc(),a.bc(),a.cc(16,"th",9),a.Mc(17,"Booking Amount"),a.cc(18,"a",10),a.kc("click",(function(){return e.changeOrder("booking_amount")})),a.Xb(19,"i",11),a.bc(),a.bc(),a.cc(20,"th",9),a.Mc(21,"Payment Mode"),a.cc(22,"a",10),a.kc("click",(function(){return e.changeOrder("payment_mode")})),a.Xb(23,"i",11),a.bc(),a.bc(),a.cc(24,"th",9),a.Mc(25,"Purpose"),a.cc(26,"a",10),a.kc("click",(function(){return e.changeOrder("purpose")})),a.Xb(27,"i",11),a.bc(),a.bc(),a.cc(28,"th",9),a.Mc(29,"Appointment Date"),a.cc(30,"a",10),a.kc("click",(function(){return e.changeOrder("appointment_date")})),a.Xb(31,"i",11),a.bc(),a.bc(),a.cc(32,"th",9),a.Mc(33,"Appointment Time"),a.cc(34,"a",10),a.kc("click",(function(){return e.changeOrder("appointment_time")})),a.Xb(35,"i",11),a.bc(),a.bc(),a.cc(36,"th",9),a.Mc(37,"Booking Date"),a.cc(38,"a",10),a.kc("click",(function(){return e.changeOrder("createdOn")})),a.Xb(39,"i",11),a.bc(),a.bc(),a.bc(),a.bc(),a.Kc(40,d,2,1,"tbody",12),a.Kc(41,b,4,0,"ng-template",null,13,a.Lc),a.bc(),a.bc(),a.bc(),a.bc(),a.bc()),2&t){var n=a.Dc(42);a.Jb(5),a.vc("ngModel",e.selectedBranchId),a.Jb(1),a.vc("ngForOf",e.branchList),a.Jb(9),a.Nb("fa-caret-down",e.sortFields.customer_name)("fa-caret-up",!e.sortFields.customer_name),a.Jb(4),a.Nb("fa-caret-down",e.sortFields.booking_amount)("fa-caret-up",!e.sortFields.booking_amount),a.Jb(4),a.Nb("fa-caret-down",e.sortFields.payment_mode)("fa-caret-up",!e.sortFields.payment_mode),a.Jb(4),a.Nb("fa-caret-down",e.sortFields.purpose)("fa-caret-up",!e.sortFields.purpose),a.Jb(4),a.Nb("fa-caret-down",e.sortFields.appointment_date)("fa-caret-up",!e.sortFields.appointment_date),a.Jb(4),a.Nb("fa-caret-down",e.sortFields.appointment_time)("fa-caret-up",!e.sortFields.appointment_time),a.Jb(4),a.Nb("fa-caret-down",e.sortFields.createdOn)("fa-caret-up",!e.sortFields.createdOn),a.Jb(1),a.vc("ngIf",null==e.appointmentList?null:e.appointmentList.length)("ngIfElse",n)}},directives:[u.p,u.h,u.k,c.k,c.l,u.l,u.r],pipes:[c.r,c.d],styles:[""]}),h)}],g=((f=function t(){_classCallCheck(this,t)}).\u0275mod=a.Ub({type:f}),f.\u0275inj=a.Tb({factory:function(t){return new(t||f)},imports:[[r.h.forChild(m)],r.h]}),f);n.d(e,"AppointmentListModule",(function(){return v}));var y,v=((y=function t(){_classCallCheck(this,t)}).\u0275mod=a.Ub({type:y}),y.\u0275inj=a.Tb({factory:function(t){return new(t||y)},imports:[[c.b,u.d,g]]}),y)},f4UJ:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var c=n("AytR"),r=n("fXoL"),a=n("tk/3"),o=function(){var t=function(){function t(e){_classCallCheck(this,t),this.http=e}return _createClass(t,[{key:"getBranchList",value:function(){return this.http.get("".concat(c.a.apiURL,"/branch"))}},{key:"addBranch",value:function(t){return this.http.post("".concat(c.a.apiURL,"/branch"),t)}},{key:"deleteBranch",value:function(t){return this.http.delete("".concat(c.a.apiURL,"/branch/").concat(t))}},{key:"getBranchDetail",value:function(t){return this.http.get("".concat(c.a.apiURL,"/branch/").concat(t))}},{key:"editBranch",value:function(t,e){return this.http.put("".concat(c.a.apiURL,"/branch/").concat(t),e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.gc(a.a))},t.\u0275prov=r.Sb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},sumL:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var c=n("AytR"),r=n("fXoL"),a=n("tk/3"),o=function(){var t=function(){function t(e){_classCallCheck(this,t),this.http=e}return _createClass(t,[{key:"getBillingList",value:function(t,e,n){return this.http.get("".concat(c.a.apiURL,"/bill/view/all?per_page=").concat(t,"&current_page=").concat(e,"&").concat(n))}},{key:"getCustomerList",value:function(t){return this.http.get("".concat(c.a.apiURL,"/bill/customer?customer_name=").concat(t))}},{key:"getNumberList",value:function(t){return this.http.get("".concat(c.a.apiURL,"/bill/number?customer_phone=").concat(t))}},{key:"deleteBill",value:function(t){return this.http.delete("".concat(c.a.apiURL,"/bill/").concat(t))}},{key:"editBill",value:function(t,e){return this.http.put("".concat(c.a.apiURL,"/bill/").concat(t,"/update"),e)}},{key:"getBillDetail",value:function(t){return this.http.get("".concat(c.a.apiURL,"/bill/").concat(t,"/getById"))}},{key:"getTotalSale",value:function(t){return this.http.get("".concat(c.a.apiURL,"/bill/total?").concat(t))}},{key:"getAppointmentList",value:function(t){return this.http.get("".concat(c.a.apiURL,"/appointment?per_page=500&current_page=1&status=pending&").concat(t||""))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.gc(a.a))},t.\u0275prov=r.Sb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}]);
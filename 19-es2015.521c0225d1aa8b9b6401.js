(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"P+7w":function(e,t,r){"use strict";r.r(t);var o=r("ofXK"),i=r("3Pt+"),a=r("tyNb"),s=r("fXoL"),c=r("AXIP"),n=r("rwBg");function l(e,t){if(1&e&&(s.cc(0,"div",24),s.cc(1,"div",25),s.Mc(2),s.bc(),s.bc()),2&e){const e=s.oc();s.Jb(2),s.Oc(" ",e.message," ")}}const m=[{path:"",component:(()=>{class e{constructor(e,t,r,o){this.router=e,this.route=t,this.ui=r,this.userService=o,this.rememberMe="false",this.showPassword=!1,this.inputType="password",this.loginError=!1}ngOnInit(){this.remember()}login(){this.ui.loader.show(),this.userService.login({email:this.email,password:this.password}).subscribe(e=>{"admin"===e.data.role?(this.loginError=!1,localStorage.setItem("token",e.data.authToken),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("name",`${e.data.f_name} ${e.data.l_name}`),this.rememberMe?(localStorage.setItem("email",this.email),localStorage.setItem("password",this.password),localStorage.setItem("rememberMe",String(this.rememberMe))):(this.email="",this.password="",localStorage.removeItem("email"),localStorage.removeItem("password"),localStorage.setItem("rememberMe",String(this.rememberMe))),this.router.navigate(["/user/employee"])):(this.loginError=!0,this.message="Invalid Admin Credential"),this.ui.loader.hide()},e=>{this.ui.loader.hide(),this.loginError=!0,this.message=e.error.message})}remember(){"true"===localStorage.getItem("rememberMe")?(this.cookieRem=Boolean(localStorage.getItem("rememberMe")),this.cookiePass=localStorage.getItem("password"),this.cookieMail=localStorage.getItem("email"),this.router.navigate(["/login"])&&(this.rememberMe=this.cookieRem,this.email=this.cookieMail,this.password=this.cookiePass)):"false"===localStorage.getItem("rememberMe")&&(this.cookieRem=!1,this.email="",this.password="")}}return e.\u0275fac=function(t){return new(t||e)(s.Wb(a.e),s.Wb(a.a),s.Wb(c.a),s.Wb(n.a))},e.\u0275cmp=s.Qb({type:e,selectors:[["app-login"]],decls:34,vars:5,consts:[[1,"container-fluid","position-relative",2,"height","100vh"],[1,"row"],[1,"login-box",2,"margin-top","7%"],[1,"col-xl-4","offset-xl-4","col-md-6","offset-md-3"],[1,"p-2"],[2,"text-align","center"],[2,"color","red"],["id","loginForm","role","form"],["loginForm","ngForm"],["class","group animated fadeIn",4,"ngIf"],[1,"form-group","position-relative"],["type","text","placeholder","USERNAME","name","email","pattern","[a-zA-Z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],[1,"user-icon"],["type","password","placeholder","PASSWORD","name","password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],[1,"pass-icon"],[1,"form-group"],[1,"col"],[1,"chk-holder"],["type","checkbox","id","ossm","name","rememberMe",1,"chkmrk",3,"ngModel","ngModelChange"],["for","ossm",1,"text-uppercase"],[1,"checkmark"],["type","submit",1,"btn","btn-primary","log-btn","w-100",3,"disabled","click"],[1,"clearfix"],[1,"col-lg-10","offset-lg-1","mt-5"],[1,"group","animated","fadeIn"],[1,"alert","alert-danger","text-center"]],template:function(e,t){if(1&e&&(s.cc(0,"div",0),s.cc(1,"div",1),s.cc(2,"div",2),s.cc(3,"div",3),s.cc(4,"div",4),s.cc(5,"h2",5),s.cc(6,"B"),s.Mc(7," HA"),s.cc(8,"span",6),s.Mc(9,"B"),s.bc(),s.Mc(10,"IBB"),s.bc(),s.bc(),s.cc(11,"form",7,8),s.Kc(13,l,3,1,"div",9),s.cc(14,"div",10),s.cc(15,"input",11),s.kc("ngModelChange",(function(e){return t.email=e})),s.bc(),s.Xb(16,"span",12),s.bc(),s.cc(17,"div",10),s.cc(18,"input",13),s.kc("ngModelChange",(function(e){return t.password=e})),s.bc(),s.Xb(19,"span",14),s.bc(),s.cc(20,"div",15),s.cc(21,"div",1),s.cc(22,"div",16),s.cc(23,"div",17),s.cc(24,"input",18),s.kc("ngModelChange",(function(e){return t.rememberMe=e})),s.bc(),s.cc(25,"label",19),s.Mc(26,"Remember Me"),s.bc(),s.Xb(27,"span",20),s.bc(),s.bc(),s.bc(),s.bc(),s.cc(28,"div",15),s.cc(29,"button",21),s.kc("click",(function(){return t.login()})),s.Mc(30,"Login"),s.bc(),s.bc(),s.bc(),s.bc(),s.bc(),s.Xb(31,"div",22),s.Xb(32,"div",23),s.bc(),s.bc(),s.Xb(33,"div",22),s.bc()),2&e){const e=s.Dc(12);s.Jb(13),s.vc("ngIf",t.loginError),s.Jb(2),s.vc("ngModel",t.email),s.Jb(3),s.vc("ngModel",t.password),s.Jb(6),s.vc("ngModel",t.rememberMe),s.Jb(5),s.vc("disabled",!e.valid)}},directives:[i.s,i.i,i.j,o.l,i.b,i.m,i.o,i.h,i.k,i.a],styles:[""]}),e})()}];let d=(()=>{class e{}return e.\u0275mod=s.Ub({type:e}),e.\u0275inj=s.Tb({factory:function(t){return new(t||e)},imports:[[a.h.forChild(m)],a.h]}),e})();r.d(t,"LoginModule",(function(){return p}));let p=(()=>{class e{}return e.\u0275mod=s.Ub({type:e}),e.\u0275inj=s.Tb({factory:function(t){return new(t||e)},providers:[n.a],imports:[[o.b,d,i.d]]}),e})()},rwBg:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var o=r("AytR"),i=r("fXoL"),a=r("tk/3");let s=(()=>{class e{constructor(e){this.http=e}login(e){return this.http.post(`${o.a.apiURL}/user/login`,e)}changePassword(e){return this.http.post(`${o.a.apiURL}/admin/forgotPassword`,e)}getAllEmployee(e){return this.http.get(`${o.a.apiURL}/user/e?per_page=500&current_page=1&${e||""}`)}getAllOperator(e){return this.http.get(`${o.a.apiURL}/user/o?per_page=500&current_page=1&${e||""}`)}addEmployee(e){return this.http.post(`${o.a.apiURL}/user`,e)}addOperator(e){return this.http.post(`${o.a.apiURL}/user`,e)}editUser(e,t){return this.http.put(`${o.a.apiURL}/user/${e}`,t)}deleteUser(e){return this.http.delete(`${o.a.apiURL}/user/${e}`)}getUserDetail(e){return this.http.get(`${o.a.apiURL}/user/${e}`)}getAllUsers(e,t){return this.http.get(`${o.a.apiURL}/users/view/all?per_page=${e}&current_page=${t}`)}}return e.\u0275fac=function(t){return new(t||e)(i.gc(a.a))},e.\u0275prov=i.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);
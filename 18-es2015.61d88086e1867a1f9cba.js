(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"1P4n":function(c,e,t){"use strict";t.r(e);var o=t("ofXK"),i=t("3Pt+"),n=t("wloI"),a=t("ZOsW"),r=t("oOf3"),d=t("tyNb"),l=t("PSD3"),s=t.n(l),b=t("fXoL"),u=t("rwBg"),h=t("f4UJ"),g=t("AXIP");const p=["closeEditModal"];function m(c,e){if(1&c){const c=b.dc();b.cc(0,"tr"),b.cc(1,"td"),b.cc(2,"B"),b.Lc(3),b.pc(4,"titlecase"),b.pc(5,"titlecase"),b.bc(),b.bc(),b.cc(6,"td"),b.Lc(7),b.bc(),b.cc(8,"td"),b.Lc(9),b.bc(),b.cc(10,"td"),b.Lc(11),b.bc(),b.cc(12,"td"),b.Lc(13),b.bc(),b.cc(14,"td"),b.cc(15,"button",45),b.kc("click",(function(){b.Ec(c);const t=e.$implicit;return b.oc(2).getUserDetail(t.user_id)})),b.Xb(16,"i",46),b.bc(),b.cc(17,"button",47),b.kc("click",(function(){b.Ec(c);const t=e.index,o=e.$implicit;return b.oc(2).deleteUser(t,o.user_id)})),b.Xb(18,"i",48),b.bc(),b.bc(),b.bc()}if(2&c){const c=e.$implicit;b.Jb(3),b.Oc("",b.qc(4,6,c.f_name)," ",b.qc(5,8,c.l_name),""),b.Jb(4),b.Mc(c.phone),b.Jb(2),b.Mc(c.email),b.Jb(2),b.Mc(c.password),b.Jb(2),b.Mc(c.branch_name)}}const f=function(c,e,t){return{itemsPerPage:c,currentPage:e,totalItems:t}};function v(c,e){if(1&c&&(b.cc(0,"tbody"),b.Jc(1,m,19,10,"tr",39),b.pc(2,"paginate"),b.bc()),2&c){const c=b.oc();b.Jb(1),b.uc("ngForOf",b.rc(2,1,c.operatorList,b.zc(4,f,c.selectedPerPage,c.currentpage,c.total)))}}function M(c,e){if(1&c&&(b.cc(0,"tbody"),b.cc(1,"tr"),b.cc(2,"td",49),b.Lc(3),b.bc(),b.bc(),b.bc()),2&c){const c=b.oc();b.Jb(3),b.Mc(c.response)}}function L(c,e){if(1&c&&(b.ac(0),b.cc(1,"option",50),b.Lc(2),b.bc(),b.Zb()),2&c){const c=e.$implicit;b.Jb(1),b.uc("value",c.branch_id),b.Jb(1),b.Mc(c.branch_name)}}function w(c,e){if(1&c&&(b.ac(0),b.cc(1,"option",58),b.Lc(2),b.bc(),b.Zb()),2&c){const c=e.$implicit,t=b.oc(2);b.Jb(1),b.uc("value",c.branch_id)("selected",t.detail.branch_id===c.branch_id),b.Jb(1),b.Mc(c.branch_name)}}function C(c,e){if(1&c){const c=b.dc();b.cc(0,"form",51,52),b.cc(2,"div",25),b.cc(3,"div",26),b.cc(4,"h5"),b.Lc(5,"Edit Employee Detail"),b.bc(),b.bc(),b.cc(6,"div",27),b.cc(7,"div",28),b.cc(8,"input",53),b.kc("ngModelChange",(function(e){return b.Ec(c),b.oc().detail.f_name=e})),b.bc(),b.bc(),b.bc(),b.cc(9,"div",30),b.cc(10,"div",28),b.cc(11,"input",54),b.kc("ngModelChange",(function(e){return b.Ec(c),b.oc().detail.l_name=e})),b.bc(),b.bc(),b.bc(),b.bc(),b.cc(12,"div",25),b.cc(13,"div",27),b.cc(14,"div",28),b.cc(15,"input",32),b.kc("ngModelChange",(function(e){return b.Ec(c),b.oc().detail.email=e})),b.bc(),b.bc(),b.bc(),b.cc(16,"div",30),b.cc(17,"div",28),b.cc(18,"input",55),b.kc("ngModelChange",(function(e){return b.Ec(c),b.oc().detail.phone=e})),b.bc(),b.bc(),b.bc(),b.bc(),b.cc(19,"div",25),b.cc(20,"div",27),b.cc(21,"div",28),b.cc(22,"input",56),b.kc("ngModelChange",(function(e){return b.Ec(c),b.oc().detail.password=e})),b.bc(),b.bc(),b.bc(),b.cc(23,"div",30),b.cc(24,"div",28),b.cc(25,"div",35),b.cc(26,"div",36),b.cc(27,"label",37),b.Lc(28,"Branch"),b.bc(),b.bc(),b.cc(29,"select",57),b.kc("ngModelChange",(function(e){return b.Ec(c),b.oc().detail.branch_id=e}))("change",(function(e){return b.Ec(c),b.oc().changeBranch(e.target.value)})),b.Jc(30,w,3,3,"ng-container",39),b.bc(),b.bc(),b.bc(),b.bc(),b.bc(),b.cc(31,"div",25),b.cc(32,"div",40),b.cc(33,"button",41),b.kc("click",(function(){b.Ec(c);const e=b.oc();return e.editUser(e.detail.user_id)})),b.Lc(34,"EDIT"),b.bc(),b.bc(),b.bc(),b.bc()}if(2&c){const c=b.Cc(1),e=b.oc();b.Jb(8),b.uc("ngModel",e.detail.f_name),b.Jb(3),b.uc("ngModel",e.detail.l_name),b.Jb(4),b.uc("ngModel",e.detail.email),b.Jb(3),b.uc("ngModel",e.detail.phone),b.Jb(4),b.uc("ngModel",e.detail.password),b.Jb(7),b.uc("ngModel",e.detail.branch_id),b.Jb(1),b.uc("ngForOf",e.branchList),b.Jb(3),b.uc("disabled",!c.valid)}}const J=[{path:"",component:(()=>{class c{constructor(c,e,t,o){this.router=c,this.userService=e,this.branchService=t,this.ui=o,this.name=[],this.response="No Data Found",this.sortOrder=!1,this.fullName=localStorage.getItem("name"),this.operatorList=[],this.branchList=[],this.selectedPerPage=10,this.currentpage=1,this.onLimitSelect=c=>{this.selectedPerPage=c,this.getOperatorList()},this.logout=()=>{localStorage.setItem("isLoggedIn",String(!1)),this.router.navigate(["/login"])}}ngOnInit(){this.getOperatorList(),this.getBranchList()}addStatus(c){this.status=c,console.log(this.status)}changeBranch(c){this.selectedBranch=c,console.log(c)}editStatus(c){this.detail.status=c,console.log(this.status)}getOperatorList(c){this.ui.loader.show(),c&&(this.currentpage=c),this.userService.getAllOperator(this.selectedPerPage,this.currentpage).subscribe(c=>{c.data&&(this.operatorList=c.data.result,this.total=c.data.total),this.ui.loader.hide()},c=>this.ui.loader.hide())}getBranchList(){this.branchService.getBranchList().subscribe(c=>{this.branchList=c.data?c.data:[]})}addOperator(){this.ui.loader.show();const c={f_name:this.firstName,l_name:this.lastName,phone:this.phone,email:this.email,password:this.password,branch_id:this.selectedBranch,role:"operator",status:this.status};this.operatorList.push(c),this.userService.addEmployee(c).subscribe(c=>{this.firstName="",this.lastName="",this.phone="",this.email="",this.password="",this.status="",s.a.fire({icon:"success",title:"User Created Successfully",showConfirmButton:!1,timer:1500}),this.ui.loader.hide()},c=>this.ui.loader.hide())}changeOrder(c){this.sortOrder=!this.sortOrder,this.field=c,this.operatorList.sort((e,t)=>this.sortOrder?t[c].localeCompare(e[c]):e[c].localeCompare(t[c]))}deleteUser(c,e){s.a.fire({title:"Do you want to delete this User?",showCancelButton:!0,confirmButtonText:"YES",cancelButtonText:"CANCEL"}).then(t=>{t.isConfirmed&&(this.ui.loader.show(),this.userService.deleteUser(e).subscribe(e=>{s.a.fire({icon:"success",title:"User Deleted Successfully",showConfirmButton:!1,timer:1500}),this.operatorList.splice(c,1),this.ui.loader.hide()},c=>this.ui.loader.hide()))})}getUserDetail(c){this.userService.getUserDetail(c).subscribe(c=>{c.data&&(this.detail=c.data)})}editUser(c){this.ui.loader.show(),delete this.detail.validationToken,delete this.detail.createdOn,this.userService.editUser(c,this.detail).subscribe(c=>{this.closeEditModal.nativeElement.click(),this.detail={},this.ui.loader.hide(),this.getOperatorList()},c=>{this.ui.loader.hide()})}}return c.\u0275fac=function(e){return new(e||c)(b.Wb(d.e),b.Wb(u.a),b.Wb(h.a),b.Wb(g.a))},c.\u0275cmp=b.Qb({type:c,selectors:[["app-operator"]],viewQuery:function(c,e){var t;1&c&&b.Qc(p,!0),2&c&&b.Bc(t=b.lc())&&(e.closeEditModal=t.first)},decls:85,vars:16,consts:[[1,"container-fluid"],[1,"row","dash-tab"],[1,"col-sm-3"],[1,"form-group"],["data-toggle","modal","data-target","#addWaiter",1,"shortcut-btn","d-block","w-100"],[1,"offset-md-7","col-sm-12","col-md-2"],["name","pay","id","pay",1,"form-control","pl-0",3,"ngModel","ngModelChange","change"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"col-sm-12"],[1,"table-responsive"],[1,"table","details_table"],["scope","col"],["href","javascript:void(0)",1,"caret-sort",3,"click"],[1,"fa"],[4,"ngIf","ngIfElse"],["elseBlock",""],[2,"text-align","center",3,"pageChange"],["id","addWaiter","tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","fade","bd-example-modal-lg"],[1,"modal-dialog","modal-lg"],[1,"modal-content",2,"padding","2%"],["id","subform","role","form"],["subForm","ngForm"],[1,"row"],[1,"col-12"],[1,"offset-md-1","col-sm-12","col-md-5"],[1,"form-group","position-relative"],["type","text","placeholder","First Name","name","fname","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],[1,"col-sm-12","col-md-5"],["type","text","placeholder","Last Name","name","lname","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Email","name","em","autocomplete","new-password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Password","name","pass","autocomplete","new-password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Mobile Number","name","mob","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["for","inputGroupSelect01",1,"input-group-text"],["placeholder","Choose Status","id","inputGroupSelect01","name","branch",1,"custom-select",3,"ngModel","ngModelChange","change"],[4,"ngFor","ngForOf"],[1,"col-12",2,"text-align","center"],["type","button",1,"btn","btn-success",3,"disabled","click"],["id","addWaiter2","tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","fade","bd-example-modal-lg"],["closeEditModal",""],["id","subform2","role","form",4,"ngIf"],["type","button","data-toggle","modal","data-target","#addWaiter2",1,"btn","btn-success","btn-sm",3,"click"],[1,"fa","fa-pencil"],["type","button",1,"btn","btn-danger","btn-sm",2,"margin-left","4px",3,"click"],[1,"fa","fa-trash-o"],["colspan","100%",1,"text-center"],[3,"value"],["id","subform2","role","form"],["subForm2","ngForm"],["type","text","placeholder","First Name","name","fname1","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Last Name","name","lname1","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Phone","name","phe","autocomplete","new-password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Password","name","esssm","autocomplete","new-password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["placeholder","Choose Status","id","inputGroupSelect01","name","stat322",1,"custom-select",3,"ngModel","ngModelChange","change"],[3,"value","selected"]],template:function(c,e){if(1&c&&(b.cc(0,"div",0),b.cc(1,"div",1),b.cc(2,"div",2),b.cc(3,"div",3),b.cc(4,"button",4),b.cc(5,"b"),b.Lc(6,"+ Add Operator"),b.bc(),b.bc(),b.bc(),b.bc(),b.cc(7,"div",5),b.cc(8,"div",3),b.Lc(9," SELECT PER PAGE "),b.cc(10,"select",6),b.kc("ngModelChange",(function(c){return e.selectedPerPage=c}))("change",(function(c){return e.onLimitSelect(c.target.value)})),b.cc(11,"option",7),b.Lc(12,"10"),b.bc(),b.cc(13,"option",8),b.Lc(14,"25"),b.bc(),b.cc(15,"option",9),b.Lc(16,"50"),b.bc(),b.cc(17,"option",10),b.Lc(18,"100"),b.bc(),b.bc(),b.bc(),b.bc(),b.cc(19,"div",11),b.cc(20,"div",12),b.cc(21,"table",13),b.cc(22,"thead"),b.cc(23,"tr"),b.cc(24,"th",14),b.Lc(25,"Name"),b.cc(26,"a",15),b.kc("click",(function(){return e.changeOrder("firstName")})),b.Xb(27,"i",16),b.bc(),b.bc(),b.cc(28,"th",14),b.Lc(29,"Phone"),b.bc(),b.cc(30,"th",14),b.Lc(31,"User Name"),b.bc(),b.cc(32,"th",14),b.Lc(33,"Password"),b.bc(),b.cc(34,"th",14),b.Lc(35,"Branch"),b.bc(),b.cc(36,"th",14),b.Lc(37,"Action"),b.bc(),b.bc(),b.bc(),b.Jc(38,v,3,8,"tbody",17),b.Jc(39,M,4,1,"ng-template",null,18,b.Kc),b.bc(),b.cc(41,"pagination-controls",19),b.kc("pageChange",(function(c){return e.getOperatorList(c)})),b.bc(),b.bc(),b.bc(),b.bc(),b.bc(),b.cc(42,"div",20),b.cc(43,"div",21),b.cc(44,"div",22),b.cc(45,"form",23,24),b.cc(47,"div",25),b.cc(48,"div",26),b.cc(49,"h5"),b.Lc(50,"Add an Employee"),b.bc(),b.bc(),b.cc(51,"div",27),b.cc(52,"div",28),b.cc(53,"input",29),b.kc("ngModelChange",(function(c){return e.firstName=c})),b.bc(),b.bc(),b.bc(),b.cc(54,"div",30),b.cc(55,"div",28),b.cc(56,"input",31),b.kc("ngModelChange",(function(c){return e.lastName=c})),b.bc(),b.bc(),b.bc(),b.bc(),b.cc(57,"div",25),b.cc(58,"div",27),b.cc(59,"div",28),b.cc(60,"input",32),b.kc("ngModelChange",(function(c){return e.email=c})),b.bc(),b.bc(),b.bc(),b.cc(61,"div",30),b.cc(62,"div",28),b.cc(63,"input",33),b.kc("ngModelChange",(function(c){return e.password=c})),b.bc(),b.bc(),b.bc(),b.bc(),b.cc(64,"div",25),b.cc(65,"div",27),b.cc(66,"div",28),b.cc(67,"input",34),b.kc("ngModelChange",(function(c){return e.phone=c})),b.bc(),b.bc(),b.bc(),b.cc(68,"div",30),b.cc(69,"div",28),b.cc(70,"div",35),b.cc(71,"div",36),b.cc(72,"label",37),b.Lc(73,"Branch"),b.bc(),b.bc(),b.cc(74,"select",38),b.kc("ngModelChange",(function(c){return e.selectedBranch=c}))("change",(function(c){return e.changeBranch(c.target.value)})),b.Jc(75,L,3,2,"ng-container",39),b.bc(),b.bc(),b.bc(),b.bc(),b.bc(),b.cc(76,"div",25),b.cc(77,"div",40),b.cc(78,"button",41),b.kc("click",(function(){return e.addOperator()})),b.Lc(79,"SUBMIT"),b.bc(),b.bc(),b.bc(),b.bc(),b.bc(),b.bc(),b.bc(),b.cc(80,"div",42,43),b.cc(82,"div",21),b.cc(83,"div",22),b.Jc(84,C,35,8,"form",44),b.bc(),b.bc(),b.bc()),2&c){const c=b.Cc(40),t=b.Cc(46);b.Jb(10),b.uc("ngModel",e.selectedPerPage),b.Jb(17),b.Nb("fa-caret-down",!e.sortOrder)("fa-caret-up",e.sortOrder),b.Jb(11),b.uc("ngIf",null==e.operatorList?null:e.operatorList.length)("ngIfElse",c),b.Jb(15),b.uc("ngModel",e.firstName),b.Jb(3),b.uc("ngModel",e.lastName),b.Jb(4),b.uc("ngModel",e.email),b.Jb(3),b.uc("ngModel",e.password),b.Jb(4),b.uc("ngModel",e.phone),b.Jb(7),b.uc("ngModel",e.selectedBranch),b.Jb(1),b.uc("ngForOf",e.branchList),b.Jb(3),b.uc("disabled",!t.valid),b.Jb(6),b.uc("ngIf",e.detail)}},directives:[i.p,i.h,i.k,i.l,i.r,o.l,r.c,i.s,i.i,i.j,i.b,i.o,o.k],pipes:[r.b,o.r],styles:[""]}),c})()}];let k=(()=>{class c{}return c.\u0275mod=b.Ub({type:c}),c.\u0275inj=b.Tb({factory:function(e){return new(e||c)},imports:[[d.h.forChild(J)],d.h]}),c})();t.d(e,"OperatorModule",(function(){return y}));let y=(()=>{class c{}return c.\u0275mod=b.Ub({type:c}),c.\u0275inj=b.Tb({factory:function(e){return new(e||c)},providers:[u.a],imports:[[o.b,k,i.d,a.a,n.a,r.a]]}),c})()}}]);
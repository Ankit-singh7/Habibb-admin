function _classCallCheck(e,c){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,c){for(var t=0;t<c.length;t++){var n=c[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,c,t){return c&&_defineProperties(e.prototype,c),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{r2I4:function(e,c,t){"use strict";t.r(c);var n=t("ofXK"),o=t("3Pt+"),i=t("tyNb"),a=t("PSD3"),l=t.n(a),r=t("xgIS"),d=t("lJxs"),s=t("Kj3r"),u=t("/uUt"),b=t("fXoL"),p=t("rwBg"),m=t("AXIP"),g=t("oOf3"),f=["closeEditModal"],h=["employeeName"];function v(e,c){if(1&e){var t=b.dc();b.cc(0,"tr"),b.cc(1,"td"),b.cc(2,"B"),b.Mc(3),b.pc(4,"titlecase"),b.pc(5,"titlecase"),b.bc(),b.bc(),b.cc(6,"td"),b.Mc(7),b.bc(),b.cc(8,"td"),b.Mc(9),b.bc(),b.cc(10,"td"),b.Mc(11),b.bc(),b.cc(12,"td"),b.Mc(13),b.bc(),b.cc(14,"td"),b.Mc(15),b.pc(16,"titlecase"),b.bc(),b.cc(17,"td"),b.cc(18,"button",52),b.kc("click",(function(){b.Fc(t);var e=c.$implicit;return b.oc(2).getUserDetail(e.user_id)})),b.Xb(19,"i",53),b.bc(),b.cc(20,"button",54),b.kc("click",(function(){b.Fc(t);var e=c.index,n=c.$implicit;return b.oc(2).deleteUser(e,n.user_id)})),b.Xb(21,"i",55),b.bc(),b.bc(),b.bc()}if(2&e){var n=c.$implicit;b.Jb(3),b.Pc("",b.qc(4,7,n.f_name)," ",b.qc(5,9,n.l_name),""),b.Jb(4),b.Nc(n.phone),b.Jb(2),b.Nc(n.email),b.Jb(2),b.Nc(n.password),b.Jb(2),b.Nc(n.designation),b.Jb(2),b.Nc(b.qc(16,11,n.status))}}var M=function(e,c,t){return{itemsPerPage:e,currentPage:c,totalItems:t}};function y(e,c){if(1&e&&(b.cc(0,"tbody"),b.Kc(1,v,22,13,"tr",51),b.pc(2,"paginate"),b.bc()),2&e){var t=b.oc();b.Jb(1),b.vc("ngForOf",b.rc(2,1,t.employeeList,b.Ac(4,M,t.selectedPerPage,t.currentpage,t.total)))}}function C(e,c){if(1&e&&(b.cc(0,"tbody"),b.cc(1,"tr"),b.cc(2,"td",56),b.Mc(3),b.bc(),b.bc(),b.bc()),2&e){var t=b.oc();b.Jb(3),b.Nc(t.response)}}function k(e,c){if(1&e){var t=b.dc();b.cc(0,"form",57,58),b.cc(2,"div",28),b.cc(3,"div",29),b.cc(4,"h5"),b.Mc(5,"Edit Employee Detail"),b.bc(),b.bc(),b.cc(6,"div",30),b.cc(7,"div",31),b.cc(8,"input",59),b.kc("ngModelChange",(function(e){return b.Fc(t),b.oc().detail.f_name=e})),b.bc(),b.bc(),b.bc(),b.cc(9,"div",33),b.cc(10,"div",31),b.cc(11,"input",60),b.kc("ngModelChange",(function(e){return b.Fc(t),b.oc().detail.l_name=e})),b.bc(),b.bc(),b.bc(),b.bc(),b.cc(12,"div",28),b.cc(13,"div",30),b.cc(14,"div",31),b.cc(15,"input",35),b.kc("ngModelChange",(function(e){return b.Fc(t),b.oc().detail.email=e})),b.bc(),b.bc(),b.bc(),b.cc(16,"div",33),b.cc(17,"div",31),b.cc(18,"input",61),b.kc("ngModelChange",(function(e){return b.Fc(t),b.oc().detail.phone=e})),b.bc(),b.bc(),b.bc(),b.bc(),b.cc(19,"div",28),b.cc(20,"div",30),b.cc(21,"div",31),b.cc(22,"input",62),b.kc("ngModelChange",(function(e){return b.Fc(t),b.oc().detail.password=e})),b.bc(),b.bc(),b.bc(),b.cc(23,"div",33),b.cc(24,"div",31),b.cc(25,"input",63),b.kc("ngModelChange",(function(e){return b.Fc(t),b.oc().detail.designation=e})),b.bc(),b.bc(),b.bc(),b.bc(),b.cc(26,"div",28),b.cc(27,"div",39),b.cc(28,"div",31),b.cc(29,"div",40),b.cc(30,"div",41),b.cc(31,"label",42),b.Mc(32,"Status"),b.bc(),b.bc(),b.cc(33,"select",64),b.kc("ngModelChange",(function(e){return b.Fc(t),b.oc().detail.status=e}))("change",(function(e){return b.Fc(t),b.oc().editStatus(e.target.value)})),b.cc(34,"option",65),b.Mc(35,"Active"),b.bc(),b.cc(36,"option",66),b.Mc(37,"Inactive"),b.bc(),b.bc(),b.bc(),b.bc(),b.bc(),b.bc(),b.cc(38,"div",28),b.cc(39,"div",46),b.cc(40,"button",47),b.kc("click",(function(){b.Fc(t);var e=b.oc();return e.editUser(e.detail.user_id)})),b.Mc(41,"EDIT"),b.bc(),b.bc(),b.bc(),b.bc()}if(2&e){var n=b.Dc(1),o=b.oc();b.Jb(8),b.vc("ngModel",o.detail.f_name),b.Jb(3),b.vc("ngModel",o.detail.l_name),b.Jb(4),b.vc("ngModel",o.detail.email),b.Jb(3),b.vc("ngModel",o.detail.phone),b.Jb(4),b.vc("ngModel",o.detail.password),b.Jb(3),b.vc("ngModel",o.detail.designation),b.Jb(8),b.vc("ngModel",o.detail.status),b.Jb(1),b.vc("selected","Active"===o.detail.status),b.Jb(2),b.vc("selected","Inactive"===o.detail.status),b.Jb(4),b.vc("disabled",!n.valid)}}var w,E,N,J=[{path:"",component:(w=function(){function e(c,t,n){var o=this;_classCallCheck(this,e),this.router=c,this.userService=t,this.ui=n,this.name=[],this.response="No Data Found",this.sortOrder=!1,this.fullName=localStorage.getItem("name"),this.employeeList=[],this.selectedPerPage=10,this.currentpage=1,this.onLimitSelect=function(e){o.selectedPerPage=e,o.getEmployeesList()},this.logout=function(){localStorage.setItem("isLoggedIn",String(!1)),o.router.navigate(["/login"])}}return _createClass(e,[{key:"ngOnInit",value:function(){this.getEmployeesList()}},{key:"ngAfterViewInit",value:function(){var e=this;Object(r.a)(this.employeeName.nativeElement,"input").pipe(Object(d.a)((function(e){return e.target.value}))).pipe(Object(s.a)(1e3)).pipe(Object(u.a)()).subscribe((function(c){e.firstName=c?e.titleCase(c):"",e.getEmployeesList()}))}},{key:"addStatus",value:function(e){this.status=e,console.log(this.status)}},{key:"editStatus",value:function(e){this.detail.status=e,console.log(this.status)}},{key:"getEmployeesList",value:function(e){var c=this;this.ui.loader.show();var t={f_name:this.firstName},n="";for(var o in t)t[o]&&(n="".concat(n).concat(o,"=").concat(t[o],"&"));console.log(n),this.userService.getAllEmployee(n).subscribe((function(e){e.data&&(c.employeeList=e.data.result,c.total=e.data.total),c.ui.loader.hide()}),(function(e){return c.ui.loader.hide()}))}},{key:"titleCase",value:function(e){for(var c=e.toLowerCase().split(" "),t=0;t<c.length;t++)c[t]=c[t][0].toUpperCase()+c[t].slice(1);return c}},{key:"addEmployee",value:function(){var e=this;this.ui.loader.show();var c={f_name:this.firstName,l_name:this.lastName,phone:this.phone,email:this.email,password:this.password,designation:this.designation,role:"employee",status:this.status};this.employeeList.push(c),this.userService.addEmployee(c).subscribe((function(c){e.firstName="",e.lastName="",e.phone="",e.email="",e.password="",e.status="",l.a.fire({icon:"success",title:"User Created Successfully",showConfirmButton:!1,timer:1500}),e.ui.loader.hide()}),(function(c){return e.ui.loader.hide()}))}},{key:"changeOrder",value:function(e){var c=this;this.sortOrder=!this.sortOrder,this.field=e,this.employeeList.sort((function(t,n){return c.sortOrder?n[e].localeCompare(t[e]):t[e].localeCompare(n[e])}))}},{key:"deleteUser",value:function(e,c){var t=this;l.a.fire({title:"Do you want to delete this User?",showCancelButton:!0,confirmButtonText:"YES",cancelButtonText:"CANCEL"}).then((function(n){n.isConfirmed&&(t.ui.loader.show(),t.userService.deleteUser(c).subscribe((function(c){l.a.fire({icon:"success",title:"User Deleted Successfully",showConfirmButton:!1,timer:1500}),t.employeeList.splice(e,1),t.ui.loader.hide()}),(function(e){return t.ui.loader.hide()})))}))}},{key:"getUserDetail",value:function(e){var c=this;this.userService.getUserDetail(e).subscribe((function(e){e.data&&(c.detail=e.data)}))}},{key:"editUser",value:function(e){var c=this;this.ui.loader.show(),delete this.detail.validationToken,delete this.detail.createdOn,this.userService.editUser(e,this.detail).subscribe((function(e){c.closeEditModal.nativeElement.click(),c.detail={},c.ui.loader.hide(),c.getEmployeesList()}),(function(e){c.ui.loader.hide()}))}}]),e}(),w.\u0275fac=function(e){return new(e||w)(b.Wb(i.e),b.Wb(p.a),b.Wb(m.a))},w.\u0275cmp=b.Qb({type:w,selectors:[["app-employee"]],viewQuery:function(e,c){var t;1&e&&(b.Rc(f,!0),b.Rc(h,!0)),2&e&&(b.Cc(t=b.lc())&&(c.closeEditModal=t.first),b.Cc(t=b.lc())&&(c.employeeName=t.first))},decls:99,vars:17,consts:[[1,"container-fluid"],[1,"row","dash-tab"],[1,"col-sm-3"],[1,"form-group"],["data-toggle","modal","data-target","#addWaiter",1,"shortcut-btn","d-block","w-100"],[1,"offset-md-4","col-md-3","col-sm-12","cus-srch"],["type","text","id","birthday","placeholder","Search By First Name","name","searchName",1,"form-control","pl-0",3,"ngModel","ngModelChange"],["employeeName",""],[1,"col-sm-12","col-md-2"],["name","pay","id","pay",1,"form-control","pl-0",3,"ngModel","ngModelChange","change"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"col-sm-12"],[1,"table-responsive"],[1,"table","details_table"],["scope","col"],["href","javascript:void(0)",1,"caret-sort",3,"click"],[1,"fa"],[4,"ngIf","ngIfElse"],["elseBlock",""],[2,"text-align","center",3,"pageChange"],["id","addWaiter","tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","fade","bd-example-modal-lg"],[1,"modal-dialog","modal-lg"],[1,"modal-content",2,"padding","2%"],["id","subform","role","form"],["subForm","ngForm"],[1,"row"],[1,"col-12"],[1,"offset-md-1","col-sm-12","col-md-5"],[1,"form-group","position-relative"],["type","text","placeholder","First Name","name","fname","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],[1,"col-sm-12","col-md-5"],["type","text","placeholder","Last Name","name","lname","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Email","name","em","autocomplete","new-password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Password","name","pass","autocomplete","new-password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Mobile Number","name","mob","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Designation","name","dg","autocomplete","new-password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],[1,"offset-md-4","col-sm-12","col-md-5"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["for","inputGroupSelect01",1,"input-group-text"],["placeholder","Choose Status","id","inputGroupSelect01","name","stat",1,"custom-select",3,"ngModel","ngModelChange","change"],["value","Active"],["value","Inactive"],[1,"col-12",2,"text-align","center"],["type","button",1,"btn","btn-success",3,"disabled","click"],["id","addWaiter2","tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","fade","bd-example-modal-lg"],["closeEditModal",""],["id","subform2","role","form",4,"ngIf"],[4,"ngFor","ngForOf"],["type","button","data-toggle","modal","data-target","#addWaiter2",1,"btn","btn-success","btn-sm",3,"click"],[1,"fa","fa-pencil"],["type","button",1,"btn","btn-danger","btn-sm",2,"margin-left","4px",3,"click"],[1,"fa","fa-trash-o"],["colspan","100%",1,"text-center"],["id","subform2","role","form"],["subForm2","ngForm"],["type","text","placeholder","First Name","name","fname1","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Last Name","name","lname1","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Phone","name","phe","autocomplete","new-password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Password","name","esssm","autocomplete","new-password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Designation","name","em","autocomplete","new-password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["placeholder","Choose Status","id","inputGroupSelect01","name","stat2",1,"custom-select",3,"ngModel","ngModelChange","change"],["value","Active",3,"selected"],["value","Inactive",3,"selected"]],template:function(e,c){if(1&e&&(b.cc(0,"div",0),b.cc(1,"div",1),b.cc(2,"div",2),b.cc(3,"div",3),b.cc(4,"button",4),b.cc(5,"b"),b.Mc(6,"+ Add Employee"),b.bc(),b.bc(),b.bc(),b.bc(),b.cc(7,"div",5),b.cc(8,"div",3),b.Mc(9," SEARCH BY NAME "),b.cc(10,"input",6,7),b.kc("ngModelChange",(function(e){return c.firstName=e})),b.bc(),b.bc(),b.bc(),b.cc(12,"div",8),b.cc(13,"div",3),b.Mc(14," SELECT PER PAGE "),b.cc(15,"select",9),b.kc("ngModelChange",(function(e){return c.selectedPerPage=e}))("change",(function(e){return c.onLimitSelect(e.target.value)})),b.cc(16,"option",10),b.Mc(17,"10"),b.bc(),b.cc(18,"option",11),b.Mc(19,"25"),b.bc(),b.cc(20,"option",12),b.Mc(21,"50"),b.bc(),b.cc(22,"option",13),b.Mc(23,"100"),b.bc(),b.bc(),b.bc(),b.bc(),b.cc(24,"div",14),b.cc(25,"div",15),b.cc(26,"table",16),b.cc(27,"thead"),b.cc(28,"tr"),b.cc(29,"th",17),b.Mc(30,"Name"),b.cc(31,"a",18),b.kc("click",(function(){return c.changeOrder("firstName")})),b.Xb(32,"i",19),b.bc(),b.bc(),b.cc(33,"th",17),b.Mc(34,"Phone"),b.bc(),b.cc(35,"th",17),b.Mc(36,"User Name"),b.bc(),b.cc(37,"th",17),b.Mc(38,"Password"),b.bc(),b.cc(39,"th",17),b.Mc(40,"Designation"),b.bc(),b.cc(41,"th",17),b.Mc(42,"Status"),b.bc(),b.cc(43,"th",17),b.Mc(44,"Action"),b.bc(),b.bc(),b.bc(),b.Kc(45,y,3,8,"tbody",20),b.Kc(46,C,4,1,"ng-template",null,21,b.Lc),b.bc(),b.cc(48,"pagination-controls",22),b.kc("pageChange",(function(e){return c.getEmployeesList(e)})),b.bc(),b.bc(),b.bc(),b.bc(),b.bc(),b.cc(49,"div",23),b.cc(50,"div",24),b.cc(51,"div",25),b.cc(52,"form",26,27),b.cc(54,"div",28),b.cc(55,"div",29),b.cc(56,"h5"),b.Mc(57,"Add an Employee"),b.bc(),b.bc(),b.cc(58,"div",30),b.cc(59,"div",31),b.cc(60,"input",32),b.kc("ngModelChange",(function(e){return c.firstName=e})),b.bc(),b.bc(),b.bc(),b.cc(61,"div",33),b.cc(62,"div",31),b.cc(63,"input",34),b.kc("ngModelChange",(function(e){return c.lastName=e})),b.bc(),b.bc(),b.bc(),b.bc(),b.cc(64,"div",28),b.cc(65,"div",30),b.cc(66,"div",31),b.cc(67,"input",35),b.kc("ngModelChange",(function(e){return c.email=e})),b.bc(),b.bc(),b.bc(),b.cc(68,"div",33),b.cc(69,"div",31),b.cc(70,"input",36),b.kc("ngModelChange",(function(e){return c.password=e})),b.bc(),b.bc(),b.bc(),b.bc(),b.cc(71,"div",28),b.cc(72,"div",30),b.cc(73,"div",31),b.cc(74,"input",37),b.kc("ngModelChange",(function(e){return c.phone=e})),b.bc(),b.bc(),b.bc(),b.cc(75,"div",33),b.cc(76,"div",31),b.cc(77,"input",38),b.kc("ngModelChange",(function(e){return c.designation=e})),b.bc(),b.bc(),b.bc(),b.bc(),b.cc(78,"div",28),b.cc(79,"div",39),b.cc(80,"div",31),b.cc(81,"div",40),b.cc(82,"div",41),b.cc(83,"label",42),b.Mc(84,"Status"),b.bc(),b.bc(),b.cc(85,"select",43),b.kc("ngModelChange",(function(e){return c.status=e}))("change",(function(e){return c.addStatus(e.target.value)})),b.cc(86,"option",44),b.Mc(87,"Active"),b.bc(),b.cc(88,"option",45),b.Mc(89,"Inactive"),b.bc(),b.bc(),b.bc(),b.bc(),b.bc(),b.bc(),b.cc(90,"div",28),b.cc(91,"div",46),b.cc(92,"button",47),b.kc("click",(function(){return c.addEmployee()})),b.Mc(93,"SUBMIT"),b.bc(),b.bc(),b.bc(),b.bc(),b.bc(),b.bc(),b.bc(),b.cc(94,"div",48,49),b.cc(96,"div",24),b.cc(97,"div",25),b.Kc(98,k,42,10,"form",50),b.bc(),b.bc(),b.bc()),2&e){var t=b.Dc(47),n=b.Dc(53);b.Jb(10),b.vc("ngModel",c.firstName),b.Jb(5),b.vc("ngModel",c.selectedPerPage),b.Jb(17),b.Nb("fa-caret-down",!c.sortOrder)("fa-caret-up",c.sortOrder),b.Jb(13),b.vc("ngIf",null==c.employeeList?null:c.employeeList.length)("ngIfElse",t),b.Jb(15),b.vc("ngModel",c.firstName),b.Jb(3),b.vc("ngModel",c.lastName),b.Jb(4),b.vc("ngModel",c.email),b.Jb(3),b.vc("ngModel",c.password),b.Jb(4),b.vc("ngModel",c.phone),b.Jb(3),b.vc("ngModel",c.designation),b.Jb(8),b.vc("ngModel",c.status),b.Jb(7),b.vc("disabled",!n.valid),b.Jb(6),b.vc("ngIf",c.detail)}},directives:[o.b,o.h,o.k,o.p,o.l,o.r,n.l,g.c,o.s,o.i,o.j,o.o,n.k],pipes:[g.b,n.r],styles:[""]}),w)}],L=((E=function e(){_classCallCheck(this,e)}).\u0275mod=b.Ub({type:E}),E.\u0275inj=b.Tb({factory:function(e){return new(e||E)},imports:[[i.h.forChild(J)],i.h]}),E),S=t("wloI"),P=t("ZOsW"),x=t("AytR"),_=t("tk/3"),I=((N=function(){function e(c){_classCallCheck(this,e),this.http=c}return _createClass(e,[{key:"getEmployeeList",value:function(e,c){return this.http.get("".concat(x.a.apiURL,"/users/view/all?per_page=").concat(e,"&current_page=").concat(c))}},{key:"addEmployee",value:function(e){return this.http.post("".concat(x.a.apiURL,"/users/signup"),e)}},{key:"deleteEmployee",value:function(e){return this.http.get("".concat(x.a.apiURL,"/users/").concat(e,"/delete"))}},{key:"getEmployeeDetail",value:function(e){return this.http.get("".concat(x.a.apiURL,"/users/").concat(e,"/details"))}},{key:"editEmployeeDetail",value:function(e,c){return this.http.put("".concat(x.a.apiURL,"/users/").concat(e,"/edit"),c)}}]),e}()).\u0275fac=function(e){return new(e||N)(b.gc(_.a))},N.\u0275prov=b.Sb({token:N,factory:N.\u0275fac,providedIn:"root"}),N);t.d(c,"EmployeeModule",(function(){return F}));var U,F=((U=function e(){_classCallCheck(this,e)}).\u0275mod=b.Ub({type:U}),U.\u0275inj=b.Tb({factory:function(e){return new(e||U)},providers:[I],imports:[[n.b,L,o.d,P.a,S.a,g.a]]}),U)}}]);
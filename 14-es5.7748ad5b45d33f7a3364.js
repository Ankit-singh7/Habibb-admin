function _createForOfIteratorHelper(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var c=0,a=function(){};return{s:a,n:function(){return c>=t.length?{done:!0}:{done:!1,value:t[c++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,i=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){i=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw r}}}}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,c=new Array(e);n<e;n++)c[n]=t[n];return c}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var c=e[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"2WZm":function(t,e,n){"use strict";n.r(e);var c,a=n("ofXK"),r=n("3Pt+"),o=n("tyNb"),i=n("wd/R"),s=n("fXoL"),l=n("AytR"),u=n("tk/3"),d=((c=function(){function t(e){_classCallCheck(this,t),this.http=e}return _createClass(t,[{key:"getSessionList",value:function(t,e,n){return this.http.get("".concat(l.a.apiURL,"/session/view/all?per_page=").concat(t,"&current_page=").concat(e,"&").concat(n))}}]),t}()).\u0275fac=function(t){return new(t||c)(s.gc(u.a))},c.\u0275prov=s.Sb({token:c,factory:c.\u0275fac,providedIn:"root"}),c),f=n("sumL"),p=n("rwBg"),h=n("AXIP"),b=n("oOf3"),g=["closeEditModal"];function v(t,e){if(1&t&&(s.ac(0),s.cc(1,"option",24),s.Mc(2),s.bc(),s.Zb()),2&t){var n=e.$implicit;s.Jb(1),s.vc("value",n.name),s.Jb(1),s.Nc(n.name)}}function m(t,e){if(1&t&&(s.cc(0,"tr"),s.cc(1,"td"),s.cc(2,"B"),s.Mc(3),s.pc(4,"date"),s.bc(),s.bc(),s.cc(5,"td"),s.Mc(6),s.bc(),s.cc(7,"td"),s.Mc(8),s.bc(),s.cc(9,"td"),s.Mc(10),s.bc(),s.cc(11,"td"),s.Mc(12),s.bc(),s.cc(13,"td"),s.Mc(14),s.bc(),s.bc()),2&t){var n=e.$implicit;s.Jb(3),s.Nc(s.rc(4,6,n.createdOn,"MMM d, y, h:mm:ss a")),s.Jb(3),s.Nc(n.user_name),s.Jb(2),s.Oc("\u20b9 ",n.session_amount,""),s.Jb(2),s.Oc("\u20b9 ",n.drawer_balance,""),s.Jb(2),s.Oc("\u20b9 ",n.closing_balance?n.closing_balance:"0",""),s.Jb(2),s.Oc("\u20b9 ",n.withdrawn,"")}}var y=function(t,e,n){return{itemsPerPage:t,currentPage:e,totalItems:n}};function _(t,e){if(1&t&&(s.cc(0,"tbody",25),s.Kc(1,m,15,9,"tr",7),s.pc(2,"paginate"),s.bc()),2&t){var n=s.oc();s.Jb(1),s.vc("ngForOf",s.rc(2,1,n.sessionList,s.Ac(4,y,n.selectedPerPage,n.currentpage,n.totalPage)))}}function w(t,e){if(1&t&&(s.cc(0,"tbody"),s.cc(1,"tr"),s.cc(2,"td",26),s.Mc(3),s.bc(),s.bc(),s.bc()),2&t){var n=s.oc();s.Jb(3),s.Nc(n.response)}}var k,L,M=[{path:"",component:(k=function(){function t(e,n,c,a,r){var o=this;_classCallCheck(this,t),this.router=e,this.sessionService=n,this.billService=c,this.userService=a,this.ui=r,this.name=[],this.sortOrder=!1,this.sortFields={user_name:!0,session_amount:!0,drawer_balance:!0,withdrawn:!0,closing_balance:!0},this.fullName=localStorage.getItem("name"),this.sessionList=[],this.response="No Data to Show",this.userNameList=[],this.selectedPerPage=10,this.currentpage=1,this.getAllOperator=function(){o.userService.getAllOperator().subscribe((function(t){if(t.data){var e=t.data.result.map((function(t){return{id:t.user_id,name:"".concat(t.f_name," ").concat(t.l_name)}}));o.userNameList=[{id:"",name:"All"}].concat(_toConsumableArray(e))}}))},this.getTotalSales=function(){var t={startDate:i(new Date).format("DD-MM-YYYY"),endDate:i(new Date).format("DD-MM-YYYY")},e="";for(var n in t)t[n]&&(e="".concat(e).concat(n,"=").concat(t[n],"&"));console.log(e),o.billService.getTotalSale(e).subscribe((function(t){if(t.data){var e=t.data;o.total=0;var n,c=_createForOfIteratorHelper(e);try{for(c.s();!(n=c.n()).done;){var a=n.value;o.total=o.total+a.total}}catch(r){c.e(r)}finally{c.f()}console.log(o.total)}else o.total=0}))},this.onLimitSelect=function(t){o.selectedPerPage=t,o.getSessionList()},this.logout=function(){localStorage.setItem("isLoggedIn",String(!1)),o.router.navigate(["/login"])}}return _createClass(t,[{key:"ngOnInit",value:function(){this.getSessionList(),this.getAllOperator(),this.getTotalSales()}},{key:"addStatus",value:function(t){this.status=t,console.log(this.status)}},{key:"editStatus",value:function(t){this.detail.status=t,console.log(this.status)}},{key:"getSessionList",value:function(t){var e=this;t&&(this.currentpage=t);var n={createdOn:this.selectedDate,user_name:this.selectedUserName},c="";for(var a in n)n[a]&&(c="".concat(c).concat(a,"=").concat(n[a],"&"));console.log(c),this.ui.loader.show(),this.sessionService.getSessionList(this.selectedPerPage,this.currentpage,c).subscribe((function(t){var n;if(t.data)if(e.sessionList=t.data.result.map((function(t){return Object.assign({date:i(t.createdOn).format("YYYY-MM-DD")},t)})),e.totalPage=t.data.total,null===(n=t.data)||void 0===n?void 0:n.result){e.total=0;var c,a=_createForOfIteratorHelper(t.data.result);try{for(a.s();!(c=a.n()).done;){var r=c.value;e.total=e.total+r.drawer_balance}}catch(o){a.e(o)}finally{a.f()}}else e.total=0;e.ui.loader.hide()}),(function(t){return e.ui.loader.hide()}))}},{key:"onOptionSelect",value:function(t,e){"user"===t?this.selectedUserName="All"===e?"":e:"date"===t&&(this.selectedDate=e),this.getSessionList()}},{key:"changeOrder",value:function(t){var e=this;this.sortOrder=!this.sortOrder,this.field=t,this.sortFields[t]=this.sortOrder,this.sessionList.sort((function(n,c){return"withdrawn"===t||"session_amount"===t||"drawer_balance"===t?e.sortOrder?c[t]-n[t]:n[t]-c[t]:e.sortOrder?c[t].localeCompare(n[t]):n[t].localeCompare(c[t])}))}},{key:"onUserSelect",value:function(t){this.selectedUserName=t,"CLEAR SEARCH"===this.selectedUserName&&(this.selectedUserName="")}},{key:"changedDate",value:function(t){console.log(t)}}]),t}(),k.\u0275fac=function(t){return new(t||k)(s.Wb(o.e),s.Wb(d),s.Wb(f.a),s.Wb(p.a),s.Wb(h.a))},k.\u0275cmp=s.Qb({type:k,selectors:[["app-session"]],viewQuery:function(t,e){var n;1&t&&s.Rc(g,!0),2&t&&s.Cc(n=s.lc())&&(e.closeEditModal=n.first)},decls:60,vars:27,consts:[[1,"container-fluid"],[1,"row","dash-tab"],[1,"col-sm-12"],[1,"form-group"],[2,"color","#69d73d"],[1,"col-sm-2","cus-srch"],["name","cars","id","cars",1,"form-control","pl-0",3,"ngModel","ngModelChange","change"],[4,"ngFor","ngForOf"],[1,"col-sm-3","cus-srch"],["type","date","id","birthday","placeholder","select Date","name","selectedDate",1,"form-control","pl-0",3,"ngModel","ngModelChange","change"],[1,"offset-md-5","col-sm-2","cus-srch"],["name","pay","id","pay",1,"form-control","pl-0",3,"ngModel","ngModelChange","change"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"table-responsive"],[1,"table","details_table"],["scope","col"],["href","javascript:void(0)",1,"caret-sort",3,"click"],[1,"fa"],["style","width:100%",4,"ngIf","ngIfElse"],["elseBlock",""],[2,"text-align","center",3,"pageChange"],[3,"value"],[2,"width","100%"],["colspan","100%",1,"text-center"]],template:function(t,e){if(1&t&&(s.cc(0,"div",0),s.cc(1,"div",1),s.cc(2,"div",2),s.cc(3,"div",3),s.cc(4,"h4"),s.Mc(5,"TOTAL SALES : \u20b9 "),s.cc(6,"span",4),s.Mc(7),s.bc(),s.bc(),s.bc(),s.bc(),s.cc(8,"div",5),s.cc(9,"div",3),s.Mc(10," SESSION CREATED BY "),s.cc(11,"select",6),s.kc("ngModelChange",(function(t){return e.selectedUserName=t}))("change",(function(t){return e.onOptionSelect("user",t.target.value)})),s.Kc(12,v,3,2,"ng-container",7),s.bc(),s.bc(),s.bc(),s.cc(13,"div",8),s.cc(14,"div",3),s.Mc(15," SEARCH BY DATE "),s.cc(16,"input",9),s.kc("ngModelChange",(function(t){return e.selectedDate=t}))("change",(function(t){return e.onOptionSelect("date",t.target.value)})),s.bc(),s.bc(),s.bc(),s.cc(17,"div",10),s.cc(18,"div",3),s.Mc(19," SELECT PER PAGE "),s.cc(20,"select",11),s.kc("ngModelChange",(function(t){return e.selectedPerPage=t}))("change",(function(t){return e.onLimitSelect(t.target.value)})),s.cc(21,"option",12),s.Mc(22,"10"),s.bc(),s.cc(23,"option",13),s.Mc(24,"25"),s.bc(),s.cc(25,"option",14),s.Mc(26,"50"),s.bc(),s.cc(27,"option",15),s.Mc(28,"100"),s.bc(),s.bc(),s.bc(),s.bc(),s.cc(29,"div",2),s.cc(30,"div",16),s.cc(31,"table",17),s.cc(32,"thead"),s.cc(33,"tr"),s.cc(34,"th",18),s.Mc(35,"Date"),s.bc(),s.cc(36,"th",18),s.Mc(37,"User Name "),s.cc(38,"a",19),s.kc("click",(function(){return e.changeOrder("user_name")})),s.Xb(39,"i",20),s.bc(),s.bc(),s.cc(40,"th",18),s.Mc(41,"Open Balance "),s.cc(42,"a",19),s.kc("click",(function(){return e.changeOrder("session_amount")})),s.Xb(43,"i",20),s.bc(),s.bc(),s.cc(44,"th",18),s.Mc(45,"Drawer Balance "),s.cc(46,"a",19),s.kc("click",(function(){return e.changeOrder("drawer_balance")})),s.Xb(47,"i",20),s.bc(),s.bc(),s.cc(48,"th",18),s.Mc(49,"Closing Balance "),s.cc(50,"a",19),s.kc("click",(function(){return e.changeOrder("closing_balance")})),s.Xb(51,"i",20),s.bc(),s.bc(),s.cc(52,"th",18),s.Mc(53,"Withraw "),s.cc(54,"a",19),s.kc("click",(function(){return e.changeOrder("withdrawn")})),s.Xb(55,"i",20),s.bc(),s.bc(),s.bc(),s.bc(),s.Kc(56,_,3,8,"tbody",21),s.Kc(57,w,4,1,"ng-template",null,22,s.Lc),s.bc(),s.cc(59,"pagination-controls",23),s.kc("pageChange",(function(t){return e.getSessionList(t)})),s.bc(),s.bc(),s.bc(),s.bc(),s.bc()),2&t){var n=s.Dc(58);s.Jb(7),s.Oc("",e.total,".00"),s.Jb(4),s.vc("ngModel",e.selectedUserName),s.Jb(1),s.vc("ngForOf",e.userNameList),s.Jb(4),s.vc("ngModel",e.selectedDate),s.Jb(4),s.vc("ngModel",e.selectedPerPage),s.Jb(19),s.Nb("fa-caret-down",e.sortFields.user_name)("fa-caret-up",!e.sortFields.user_name),s.Jb(4),s.Nb("fa-caret-down",e.sortFields.session_amount)("fa-caret-up",!e.sortFields.session_amount),s.Jb(4),s.Nb("fa-caret-down",e.sortFields.drawer_balance)("fa-caret-up",!e.sortFields.drawer_balance),s.Jb(4),s.Nb("fa-caret-down",e.sortFields.closing_balance)("fa-caret-up",!e.sortFields.closing_balance),s.Jb(4),s.Nb("fa-caret-down",e.sortFields.withdrawn)("fa-caret-up",!e.sortFields.withdrawn),s.Jb(1),s.vc("ngIf",null==e.sessionList?null:e.sessionList.length)("ngIfElse",n)}},directives:[r.p,r.h,r.k,a.k,r.b,r.l,r.r,a.l,b.c],pipes:[b.b,a.d],styles:["[_ngcontent-%COMP%]::-webkit-datetime-edit{padding:1em}[_ngcontent-%COMP%]::-webkit-datetime-edit-text{padding:0 .3em}[_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}[_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{color:green}div.scrollmenu[_ngcontent-%COMP%]{overflow:auto;white-space:nowrap}div.scrollmenu[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{display:inline-block;text-align:center;padding:14px;text-decoration:none;width:100%!important}"]}),k)}],C=((L=function t(){_classCallCheck(this,t)}).\u0275mod=s.Ub({type:L}),L.\u0275inj=s.Tb({factory:function(t){return new(t||L)},imports:[[o.h.forChild(M)],o.h]}),L),O=n("wloI"),S=n("X+I5");n.d(e,"SessionModule",(function(){return P}));var A,P=((A=function t(){_classCallCheck(this,t)}).\u0275mod=s.Ub({type:A}),A.\u0275inj=s.Tb({factory:function(t){return new(t||A)},providers:[S.a],imports:[[a.b,r.d,C,O.a,b.a]]}),A)},"X+I5":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var c=n("fXoL"),a=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t,e,n){return n?t.filter((function(t){return e.split(",").some((function(e){return t.hasOwnProperty(e)&&new RegExp(n,"gi").test(t[e])}))})):t}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=c.Vb({name:"filter",type:t,pure:!0}),t}()},rwBg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var c=n("AytR"),a=n("fXoL"),r=n("tk/3"),o=function(){var t=function(){function t(e){_classCallCheck(this,t),this.http=e}return _createClass(t,[{key:"login",value:function(t){return this.http.post("".concat(c.a.apiURL,"/user/login"),t)}},{key:"changePassword",value:function(t){return this.http.post("".concat(c.a.apiURL,"/admin/forgotPassword"),t)}},{key:"getAllEmployee",value:function(t,e,n){return this.http.get("".concat(c.a.apiURL,"/user/e?per_page=").concat(e,"&current_page=").concat(n,"&").concat(t||""))}},{key:"getAllOperator",value:function(t,e,n){return this.http.get("".concat(c.a.apiURL,"/user/o?per_page=").concat(e,"&current_page=").concat(n,"&").concat(t||""))}},{key:"addEmployee",value:function(t){return this.http.post("".concat(c.a.apiURL,"/user"),t)}},{key:"addOperator",value:function(t){return this.http.post("".concat(c.a.apiURL,"/user"),t)}},{key:"editUser",value:function(t,e){return this.http.put("".concat(c.a.apiURL,"/user/").concat(t),e)}},{key:"deleteUser",value:function(t){return this.http.delete("".concat(c.a.apiURL,"/user/").concat(t))}},{key:"getUserDetail",value:function(t){return this.http.get("".concat(c.a.apiURL,"/user/").concat(t))}},{key:"getAllUsers",value:function(t,e){return this.http.get("".concat(c.a.apiURL,"/users/view/all?per_page=").concat(t,"&current_page=").concat(e))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.gc(r.a))},t.\u0275prov=a.Sb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},sumL:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var c=n("AytR"),a=n("fXoL"),r=n("tk/3"),o=function(){var t=function(){function t(e){_classCallCheck(this,t),this.http=e}return _createClass(t,[{key:"getBillingList",value:function(t,e,n){return this.http.get("".concat(c.a.apiURL,"/bill/view/all?per_page=").concat(t,"&current_page=").concat(e,"&").concat(n))}},{key:"getCustomerList",value:function(t){return this.http.get("".concat(c.a.apiURL,"/bill/customer?customer_name=").concat(t))}},{key:"getNumberList",value:function(t){return this.http.get("".concat(c.a.apiURL,"/bill/number?customer_phone=").concat(t))}},{key:"deleteBill",value:function(t){return this.http.delete("".concat(c.a.apiURL,"/bill/").concat(t))}},{key:"editBill",value:function(t,e){return this.http.put("".concat(c.a.apiURL,"/bill/").concat(t,"/update"),e)}},{key:"getBillDetail",value:function(t){return this.http.get("".concat(c.a.apiURL,"/bill/").concat(t,"/getById"))}},{key:"getTotalSale",value:function(t){return this.http.get("".concat(c.a.apiURL,"/bill/total?").concat(t))}},{key:"getAppointmentList",value:function(t){return this.http.get("".concat(c.a.apiURL,"/appointment?per_page=500&current_page=1&status=pending&").concat(t||""))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.gc(r.a))},t.\u0275prov=a.Sb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}]);
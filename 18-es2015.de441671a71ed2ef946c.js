(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"1P4n":function(c,e,t){"use strict";t.r(e);var o=t("ofXK"),i=t("3Pt+"),a=t("wloI"),n=t("ZOsW"),r=t("oOf3"),l=t("tyNb"),s=t("PSD3"),d=t.n(s),b=t("xgIS"),h=t("lJxs"),u=t("Kj3r"),g=t("/uUt"),p=t("fXoL"),m=t("rwBg"),f=t("f4UJ"),v=t("AXIP");const M=["closeEditModal"],C=["operatorName"];function w(c,e){if(1&c){const c=p.dc();p.cc(0,"tr"),p.cc(1,"td"),p.cc(2,"B"),p.Mc(3),p.pc(4,"titlecase"),p.pc(5,"titlecase"),p.bc(),p.bc(),p.cc(6,"td"),p.Mc(7),p.bc(),p.cc(8,"td"),p.Mc(9),p.bc(),p.cc(10,"td"),p.Mc(11),p.bc(),p.cc(12,"td"),p.Mc(13),p.bc(),p.cc(14,"td"),p.cc(15,"button",48),p.kc("click",(function(){p.Fc(c);const t=e.$implicit;return p.oc(2).getUserDetail(t.user_id)})),p.Xb(16,"i",49),p.bc(),p.cc(17,"button",50),p.kc("click",(function(){p.Fc(c);const t=e.index,o=e.$implicit;return p.oc(2).deleteUser(t,o.user_id)})),p.Xb(18,"i",51),p.bc(),p.bc(),p.bc()}if(2&c){const c=e.$implicit;p.Jb(3),p.Pc("",p.qc(4,6,c.f_name)," ",p.qc(5,8,c.l_name),""),p.Jb(4),p.Nc(c.phone),p.Jb(2),p.Nc(c.email),p.Jb(2),p.Nc(c.password),p.Jb(2),p.Nc(c.branch_name)}}const N=function(c,e,t){return{itemsPerPage:c,currentPage:e,totalItems:t}};function y(c,e){if(1&c&&(p.cc(0,"tbody"),p.Kc(1,w,19,10,"tr",42),p.pc(2,"paginate"),p.bc()),2&c){const c=p.oc();p.Jb(1),p.vc("ngForOf",p.rc(2,1,c.operatorList,p.Ac(4,N,c.selectedPerPage,c.currentpage,c.total)))}}function k(c,e){if(1&c&&(p.cc(0,"tbody"),p.cc(1,"tr"),p.cc(2,"td",52),p.Mc(3),p.bc(),p.bc(),p.bc()),2&c){const c=p.oc();p.Jb(3),p.Nc(c.response)}}function J(c,e){if(1&c&&(p.ac(0),p.cc(1,"option",53),p.Mc(2),p.bc(),p.Zb()),2&c){const c=e.$implicit;p.Jb(1),p.vc("value",c.branch_id),p.Jb(1),p.Nc(c.branch_name)}}function L(c,e){if(1&c&&(p.ac(0),p.cc(1,"option",61),p.Mc(2),p.bc(),p.Zb()),2&c){const c=e.$implicit,t=p.oc(2);p.Jb(1),p.vc("value",c.branch_id)("selected",t.detail.branch_id===c.branch_id),p.Jb(1),p.Nc(c.branch_name)}}function O(c,e){if(1&c){const c=p.dc();p.cc(0,"form",54,55),p.cc(2,"div",28),p.cc(3,"div",29),p.cc(4,"h5"),p.Mc(5,"Edit Employee Detail"),p.bc(),p.bc(),p.cc(6,"div",30),p.cc(7,"div",31),p.cc(8,"input",56),p.kc("ngModelChange",(function(e){return p.Fc(c),p.oc().detail.f_name=e})),p.bc(),p.bc(),p.bc(),p.cc(9,"div",33),p.cc(10,"div",31),p.cc(11,"input",57),p.kc("ngModelChange",(function(e){return p.Fc(c),p.oc().detail.l_name=e})),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(12,"div",28),p.cc(13,"div",30),p.cc(14,"div",31),p.cc(15,"input",35),p.kc("ngModelChange",(function(e){return p.Fc(c),p.oc().detail.email=e})),p.bc(),p.bc(),p.bc(),p.cc(16,"div",33),p.cc(17,"div",31),p.cc(18,"input",58),p.kc("ngModelChange",(function(e){return p.Fc(c),p.oc().detail.phone=e})),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(19,"div",28),p.cc(20,"div",30),p.cc(21,"div",31),p.cc(22,"input",59),p.kc("ngModelChange",(function(e){return p.Fc(c),p.oc().detail.password=e})),p.bc(),p.bc(),p.bc(),p.cc(23,"div",33),p.cc(24,"div",31),p.cc(25,"div",38),p.cc(26,"div",39),p.cc(27,"label",40),p.Mc(28,"Branch"),p.bc(),p.bc(),p.cc(29,"select",60),p.kc("ngModelChange",(function(e){return p.Fc(c),p.oc().detail.branch_id=e}))("change",(function(e){return p.Fc(c),p.oc().changeBranch(e.target.value)})),p.Kc(30,L,3,3,"ng-container",42),p.bc(),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(31,"div",28),p.cc(32,"div",43),p.cc(33,"button",44),p.kc("click",(function(){p.Fc(c);const e=p.oc();return e.editUser(e.detail.user_id)})),p.Mc(34,"EDIT"),p.bc(),p.bc(),p.bc(),p.bc()}if(2&c){const c=p.Dc(1),e=p.oc();p.Jb(8),p.vc("ngModel",e.detail.f_name),p.Jb(3),p.vc("ngModel",e.detail.l_name),p.Jb(4),p.vc("ngModel",e.detail.email),p.Jb(3),p.vc("ngModel",e.detail.phone),p.Jb(4),p.vc("ngModel",e.detail.password),p.Jb(7),p.vc("ngModel",e.detail.branch_id),p.Jb(1),p.vc("ngForOf",e.branchList),p.Jb(3),p.vc("disabled",!c.valid)}}const S=[{path:"",component:(()=>{class c{constructor(c,e,t,o){this.router=c,this.userService=e,this.branchService=t,this.ui=o,this.name=[],this.response="No Data Found",this.sortOrder=!1,this.fullName=localStorage.getItem("name"),this.operatorList=[],this.branchList=[],this.selectedPerPage=10,this.currentpage=1,this.onLimitSelect=c=>{this.selectedPerPage=c,this.getOperatorList()},this.logout=()=>{localStorage.setItem("isLoggedIn",String(!1)),this.router.navigate(["/login"])}}ngOnInit(){this.getOperatorList(),this.getBranchList()}ngAfterViewInit(){Object(b.a)(this.operatorName.nativeElement,"input").pipe(Object(h.a)(c=>c.target.value)).pipe(Object(u.a)(1e3)).pipe(Object(g.a)()).subscribe(c=>{this.firstName=c?this.titleCase(c):"",this.getOperatorList()})}titleCase(c){for(var e=c.toLowerCase().split(" "),t=0;t<e.length;t++)e[t]=e[t][0].toUpperCase()+e[t].slice(1);return e}addStatus(c){this.status=c,console.log(this.status)}changeBranch(c){this.selectedBranch=c,console.log(c)}editStatus(c){this.detail.status=c,console.log(this.status)}getOperatorList(c){this.ui.loader.show();let e={f_name:this.firstName},t="";for(let o in e)e[o]&&(t=`${t}${o}=${e[o]}&`);console.log(t),this.userService.getAllOperator(t).subscribe(c=>{c.data&&(this.operatorList=c.data.result,this.total=c.data.total),this.ui.loader.hide()},c=>this.ui.loader.hide())}getBranchList(){this.branchService.getBranchList().subscribe(c=>{this.branchList=c.data?c.data:[]})}addOperator(){this.ui.loader.show();const c={f_name:this.firstName,l_name:this.lastName,phone:this.phone,email:this.email,password:this.password,branch_id:this.selectedBranch,role:"operator",status:this.status};this.operatorList.push(c),this.userService.addEmployee(c).subscribe(c=>{this.firstName="",this.lastName="",this.phone="",this.email="",this.password="",this.status="",d.a.fire({icon:"success",title:"User Created Successfully",showConfirmButton:!1,timer:1500}),this.ui.loader.hide()},c=>this.ui.loader.hide())}changeOrder(c){this.sortOrder=!this.sortOrder,this.field=c,this.operatorList.sort((e,t)=>this.sortOrder?t[c].localeCompare(e[c]):e[c].localeCompare(t[c]))}deleteUser(c,e){d.a.fire({title:"Do you want to delete this User?",showCancelButton:!0,confirmButtonText:"YES",cancelButtonText:"CANCEL"}).then(t=>{t.isConfirmed&&(this.ui.loader.show(),this.userService.deleteUser(e).subscribe(e=>{d.a.fire({icon:"success",title:"User Deleted Successfully",showConfirmButton:!1,timer:1500}),this.operatorList.splice(c,1),this.ui.loader.hide()},c=>this.ui.loader.hide()))})}getUserDetail(c){this.userService.getUserDetail(c).subscribe(c=>{c.data&&(this.detail=c.data)})}editUser(c){this.ui.loader.show(),delete this.detail.validationToken,delete this.detail.createdOn,this.userService.editUser(c,this.detail).subscribe(c=>{this.closeEditModal.nativeElement.click(),this.detail={},this.ui.loader.hide(),this.getOperatorList()},c=>{this.ui.loader.hide()})}}return c.\u0275fac=function(e){return new(e||c)(p.Wb(l.e),p.Wb(m.a),p.Wb(f.a),p.Wb(v.a))},c.\u0275cmp=p.Qb({type:c,selectors:[["app-operator"]],viewQuery:function(c,e){var t;1&c&&(p.Rc(M,!0),p.Rc(C,!0)),2&c&&(p.Cc(t=p.lc())&&(e.closeEditModal=t.first),p.Cc(t=p.lc())&&(e.operatorName=t.first))},decls:90,vars:17,consts:[[1,"container-fluid"],[1,"row","dash-tab"],[1,"col-sm-3"],[1,"form-group"],["data-toggle","modal","data-target","#addWaiter",1,"shortcut-btn","d-block","w-100"],[1,"offset-md-4","col-md-3","col-sm-12","cus-srch"],["type","text","id","birthday","placeholder","Search By First Name","name","searchName",1,"form-control","pl-0",3,"ngModel","ngModelChange"],["operatorName",""],[1,"col-sm-12","col-md-2"],["name","pay","id","pay",1,"form-control","pl-0",3,"ngModel","ngModelChange","change"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"col-sm-12"],[1,"table-responsive"],[1,"table","details_table"],["scope","col"],["href","javascript:void(0)",1,"caret-sort",3,"click"],[1,"fa"],[4,"ngIf","ngIfElse"],["elseBlock",""],[2,"text-align","center",3,"pageChange"],["id","addWaiter","tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","fade","bd-example-modal-lg"],[1,"modal-dialog","modal-lg"],[1,"modal-content",2,"padding","2%"],["id","subform","role","form"],["subForm","ngForm"],[1,"row"],[1,"col-12"],[1,"offset-md-1","col-sm-12","col-md-5"],[1,"form-group","position-relative"],["type","text","placeholder","First Name","name","fname","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],[1,"col-sm-12","col-md-5"],["type","text","placeholder","Last Name","name","lname","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Email","name","em","autocomplete","new-password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Password","name","pass","autocomplete","new-password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Mobile Number","name","mob","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["for","inputGroupSelect01",1,"input-group-text"],["placeholder","Choose Status","id","inputGroupSelect01","name","branch",1,"custom-select",3,"ngModel","ngModelChange","change"],[4,"ngFor","ngForOf"],[1,"col-12",2,"text-align","center"],["type","button",1,"btn","btn-success",3,"disabled","click"],["id","addWaiter2","tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","fade","bd-example-modal-lg"],["closeEditModal",""],["id","subform2","role","form",4,"ngIf"],["type","button","data-toggle","modal","data-target","#addWaiter2",1,"btn","btn-success","btn-sm",3,"click"],[1,"fa","fa-pencil"],["type","button",1,"btn","btn-danger","btn-sm",2,"margin-left","4px",3,"click"],[1,"fa","fa-trash-o"],["colspan","100%",1,"text-center"],[3,"value"],["id","subform2","role","form"],["subForm2","ngForm"],["type","text","placeholder","First Name","name","fname1","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Last Name","name","lname1","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Phone","name","phe","autocomplete","new-password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["type","text","placeholder","Password","name","esssm","autocomplete","new-password","required","",1,"form-control","mb-4",3,"ngModel","ngModelChange"],["placeholder","Choose Status","id","inputGroupSelect01","name","stat322",1,"custom-select",3,"ngModel","ngModelChange","change"],[3,"value","selected"]],template:function(c,e){if(1&c&&(p.cc(0,"div",0),p.cc(1,"div",1),p.cc(2,"div",2),p.cc(3,"div",3),p.cc(4,"button",4),p.cc(5,"b"),p.Mc(6,"+ Add Operator"),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(7,"div",5),p.cc(8,"div",3),p.Mc(9," SEARCH BY NAME "),p.cc(10,"input",6,7),p.kc("ngModelChange",(function(c){return e.firstName=c})),p.bc(),p.bc(),p.bc(),p.cc(12,"div",8),p.cc(13,"div",3),p.Mc(14," SELECT PER PAGE "),p.cc(15,"select",9),p.kc("ngModelChange",(function(c){return e.selectedPerPage=c}))("change",(function(c){return e.onLimitSelect(c.target.value)})),p.cc(16,"option",10),p.Mc(17,"10"),p.bc(),p.cc(18,"option",11),p.Mc(19,"25"),p.bc(),p.cc(20,"option",12),p.Mc(21,"50"),p.bc(),p.cc(22,"option",13),p.Mc(23,"100"),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(24,"div",14),p.cc(25,"div",15),p.cc(26,"table",16),p.cc(27,"thead"),p.cc(28,"tr"),p.cc(29,"th",17),p.Mc(30,"Name"),p.cc(31,"a",18),p.kc("click",(function(){return e.changeOrder("firstName")})),p.Xb(32,"i",19),p.bc(),p.bc(),p.cc(33,"th",17),p.Mc(34,"Phone"),p.bc(),p.cc(35,"th",17),p.Mc(36,"User Name"),p.bc(),p.cc(37,"th",17),p.Mc(38,"Password"),p.bc(),p.cc(39,"th",17),p.Mc(40,"Branch"),p.bc(),p.cc(41,"th",17),p.Mc(42,"Action"),p.bc(),p.bc(),p.bc(),p.Kc(43,y,3,8,"tbody",20),p.Kc(44,k,4,1,"ng-template",null,21,p.Lc),p.bc(),p.cc(46,"pagination-controls",22),p.kc("pageChange",(function(c){return e.getOperatorList(c)})),p.bc(),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(47,"div",23),p.cc(48,"div",24),p.cc(49,"div",25),p.cc(50,"form",26,27),p.cc(52,"div",28),p.cc(53,"div",29),p.cc(54,"h5"),p.Mc(55,"Add an Employee"),p.bc(),p.bc(),p.cc(56,"div",30),p.cc(57,"div",31),p.cc(58,"input",32),p.kc("ngModelChange",(function(c){return e.firstName=c})),p.bc(),p.bc(),p.bc(),p.cc(59,"div",33),p.cc(60,"div",31),p.cc(61,"input",34),p.kc("ngModelChange",(function(c){return e.lastName=c})),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(62,"div",28),p.cc(63,"div",30),p.cc(64,"div",31),p.cc(65,"input",35),p.kc("ngModelChange",(function(c){return e.email=c})),p.bc(),p.bc(),p.bc(),p.cc(66,"div",33),p.cc(67,"div",31),p.cc(68,"input",36),p.kc("ngModelChange",(function(c){return e.password=c})),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(69,"div",28),p.cc(70,"div",30),p.cc(71,"div",31),p.cc(72,"input",37),p.kc("ngModelChange",(function(c){return e.phone=c})),p.bc(),p.bc(),p.bc(),p.cc(73,"div",33),p.cc(74,"div",31),p.cc(75,"div",38),p.cc(76,"div",39),p.cc(77,"label",40),p.Mc(78,"Branch"),p.bc(),p.bc(),p.cc(79,"select",41),p.kc("ngModelChange",(function(c){return e.selectedBranch=c}))("change",(function(c){return e.changeBranch(c.target.value)})),p.Kc(80,J,3,2,"ng-container",42),p.bc(),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(81,"div",28),p.cc(82,"div",43),p.cc(83,"button",44),p.kc("click",(function(){return e.addOperator()})),p.Mc(84,"SUBMIT"),p.bc(),p.bc(),p.bc(),p.bc(),p.bc(),p.bc(),p.bc(),p.cc(85,"div",45,46),p.cc(87,"div",24),p.cc(88,"div",25),p.Kc(89,O,35,8,"form",47),p.bc(),p.bc(),p.bc()),2&c){const c=p.Dc(45),t=p.Dc(51);p.Jb(10),p.vc("ngModel",e.firstName),p.Jb(5),p.vc("ngModel",e.selectedPerPage),p.Jb(17),p.Nb("fa-caret-down",!e.sortOrder)("fa-caret-up",e.sortOrder),p.Jb(11),p.vc("ngIf",null==e.operatorList?null:e.operatorList.length)("ngIfElse",c),p.Jb(15),p.vc("ngModel",e.firstName),p.Jb(3),p.vc("ngModel",e.lastName),p.Jb(4),p.vc("ngModel",e.email),p.Jb(3),p.vc("ngModel",e.password),p.Jb(4),p.vc("ngModel",e.phone),p.Jb(7),p.vc("ngModel",e.selectedBranch),p.Jb(1),p.vc("ngForOf",e.branchList),p.Jb(3),p.vc("disabled",!t.valid),p.Jb(6),p.vc("ngIf",e.detail)}},directives:[i.b,i.h,i.k,i.p,i.l,i.r,o.l,r.c,i.s,i.i,i.j,i.o,o.k],pipes:[r.b,o.r],styles:[""]}),c})()}];let P=(()=>{class c{}return c.\u0275mod=p.Ub({type:c}),c.\u0275inj=p.Tb({factory:function(e){return new(e||c)},imports:[[l.h.forChild(S)],l.h]}),c})();t.d(e,"OperatorModule",(function(){return x}));let x=(()=>{class c{}return c.\u0275mod=p.Ub({type:c}),c.\u0275inj=p.Tb({factory:function(e){return new(e||c)},providers:[m.a],imports:[[o.b,P,i.d,n.a,a.a,r.a]]}),c})()}}]);
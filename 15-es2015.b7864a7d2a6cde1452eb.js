(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{aHER:function(t,e,c){"use strict";c.r(e);var n=c("ofXK"),i=c("tyNb"),r=c("fXoL"),a=c("sumL"),o=c("f4UJ"),s=c("AXIP"),p=c("3Pt+");function l(t,e){if(1&t&&(r.ac(0),r.cc(1,"option",14),r.Mc(2),r.bc(),r.Zb()),2&t){const t=e.$implicit;r.Jb(1),r.vc("value",t.id),r.Jb(1),r.Nc(t.name)}}function d(t,e){if(1&t&&(r.cc(0,"tr"),r.cc(1,"td"),r.cc(2,"B"),r.Mc(3),r.pc(4,"titlecase"),r.bc(),r.bc(),r.cc(5,"td"),r.Mc(6),r.bc(),r.cc(7,"td"),r.Mc(8),r.bc(),r.cc(9,"td"),r.Mc(10),r.pc(11,"titlecase"),r.bc(),r.cc(12,"td"),r.Mc(13),r.bc(),r.cc(14,"td"),r.Mc(15),r.bc(),r.cc(16,"td"),r.Mc(17),r.pc(18,"date"),r.bc(),r.bc()),2&t){const t=e.$implicit;r.Jb(3),r.Nc(r.qc(4,7,t.customer_name)),r.Jb(3),r.Oc(" ",0===t.booking_amount?"-":"\u20b9 "+t.booking_amount,""),r.Jb(2),r.Oc(" ",t.payment_mode?t.payment_mode:"-",""),r.Jb(2),r.Oc(" ",r.qc(11,9,t.purpose),""),r.Jb(3),r.Oc(" ",t.appointment_date,""),r.Jb(2),r.Oc(" ",t.appointment_time,""),r.Jb(2),r.Oc(" ",r.rc(18,11,t.createdOn,"MMM d, y"),"")}}function b(t,e){if(1&t&&(r.cc(0,"tbody",15),r.Kc(1,d,19,14,"tr",5),r.bc()),2&t){const t=r.oc();r.Jb(1),r.vc("ngForOf",t.appointmentList)}}function u(t,e){1&t&&(r.cc(0,"tbody"),r.cc(1,"tr"),r.cc(2,"td",16),r.Mc(3,"No Appointments to show."),r.bc(),r.bc(),r.bc())}const h=[{path:"",component:(()=>{class t{constructor(t,e,c,n){this.router=t,this.billingService=e,this.branchService=c,this.ui=n,this.appointmentList=[],this.sortFields={customer_name:!0,booking_amount:!0,payment_mode:!0,createdOn:!0,appointment_date:!0,appointment_time:!0,purpose:!0},this.sortOrder=!1,this.branchList=[],this.getAllBranch=()=>{this.branchService.getBranchList().subscribe(t=>{if(t.data){let e=t.data.map(t=>({id:t.branch_id,name:t.branch_name}));this.branchList=[{id:"",name:"All"},...e]}})},this.logout=()=>{localStorage.setItem("isLoggedIn",String(!1)),this.router.navigate(["/login"])}}ngOnInit(){this.getAppointmentList(),this.getAllBranch()}onOptionSelect(t){this.selectedBranchId=t,this.getAppointmentList()}getAppointmentList(){this.ui.loader.show();let t={branch_id:this.selectedBranchId},e="";for(let c in t)t[c]&&(e=`${e}${c}=${t[c]}&`);this.billingService.getAppointmentList(e).subscribe(t=>{t.data?(this.appointmentList=t.data.result,this.ui.loader.hide()):(this.appointmentList=[],this.ui.loader.hide())})}changeOrder(t){this.sortOrder=!this.sortOrder,this.field=t,this.sortFields[t]=this.sortOrder,this.appointmentList.sort((e,c)=>"booking_amount"===t?this.sortOrder?c[t]-e[t]:e[t]-c[t]:this.sortOrder?c[t].localeCompare(e[t]):e[t].localeCompare(c[t]))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(i.e),r.Wb(a.a),r.Wb(o.a),r.Wb(s.a))},t.\u0275cmp=r.Qb({type:t,selectors:[["app-appointment-list"]],decls:43,vars:32,consts:[[1,"container-fluid"],[1,"row","dash-tab"],[1,"col-sm-3","cus-srch"],[1,"form-group"],["name","dev","id","dev",1,"form-control","pl-0",3,"ngModel","ngModelChange","change"],[4,"ngFor","ngForOf"],[1,"col-sm-12"],[1,"table-responsive"],[1,"table","details_table"],["scope","col"],["href","javascript:void(0)",1,"caret-sort",3,"click"],[1,"fa"],["style","width:100%",4,"ngIf","ngIfElse"],["elseBlock",""],[3,"value"],[2,"width","100%"],["colspan","100%",1,"text-center"]],template:function(t,e){if(1&t&&(r.cc(0,"div",0),r.cc(1,"div",1),r.cc(2,"div",2),r.cc(3,"div",3),r.Mc(4," BRANCH WISE "),r.cc(5,"select",4),r.kc("ngModelChange",(function(t){return e.selectedBranchId=t}))("change",(function(t){return e.onOptionSelect(t.target.value)})),r.Kc(6,l,3,2,"ng-container",5),r.bc(),r.bc(),r.bc(),r.cc(7,"div",6),r.cc(8,"div",7),r.cc(9,"table",8),r.cc(10,"thead"),r.cc(11,"tr"),r.cc(12,"th",9),r.Mc(13,"Customer Name"),r.cc(14,"a",10),r.kc("click",(function(){return e.changeOrder("customer_name")})),r.Xb(15,"i",11),r.bc(),r.bc(),r.cc(16,"th",9),r.Mc(17,"Booking Amount"),r.cc(18,"a",10),r.kc("click",(function(){return e.changeOrder("booking_amount")})),r.Xb(19,"i",11),r.bc(),r.bc(),r.cc(20,"th",9),r.Mc(21,"Payment Mode"),r.cc(22,"a",10),r.kc("click",(function(){return e.changeOrder("payment_mode")})),r.Xb(23,"i",11),r.bc(),r.bc(),r.cc(24,"th",9),r.Mc(25,"Purpose"),r.cc(26,"a",10),r.kc("click",(function(){return e.changeOrder("purpose")})),r.Xb(27,"i",11),r.bc(),r.bc(),r.cc(28,"th",9),r.Mc(29,"Appointment Date"),r.cc(30,"a",10),r.kc("click",(function(){return e.changeOrder("appointment_date")})),r.Xb(31,"i",11),r.bc(),r.bc(),r.cc(32,"th",9),r.Mc(33,"Appointment Time"),r.cc(34,"a",10),r.kc("click",(function(){return e.changeOrder("appointment_time")})),r.Xb(35,"i",11),r.bc(),r.bc(),r.cc(36,"th",9),r.Mc(37,"Booking Date"),r.cc(38,"a",10),r.kc("click",(function(){return e.changeOrder("createdOn")})),r.Xb(39,"i",11),r.bc(),r.bc(),r.bc(),r.bc(),r.Kc(40,b,2,1,"tbody",12),r.Kc(41,u,4,0,"ng-template",null,13,r.Lc),r.bc(),r.bc(),r.bc(),r.bc(),r.bc()),2&t){const t=r.Dc(42);r.Jb(5),r.vc("ngModel",e.selectedBranchId),r.Jb(1),r.vc("ngForOf",e.branchList),r.Jb(9),r.Nb("fa-caret-down",e.sortFields.customer_name)("fa-caret-up",!e.sortFields.customer_name),r.Jb(4),r.Nb("fa-caret-down",e.sortFields.booking_amount)("fa-caret-up",!e.sortFields.booking_amount),r.Jb(4),r.Nb("fa-caret-down",e.sortFields.payment_mode)("fa-caret-up",!e.sortFields.payment_mode),r.Jb(4),r.Nb("fa-caret-down",e.sortFields.purpose)("fa-caret-up",!e.sortFields.purpose),r.Jb(4),r.Nb("fa-caret-down",e.sortFields.appointment_date)("fa-caret-up",!e.sortFields.appointment_date),r.Jb(4),r.Nb("fa-caret-down",e.sortFields.appointment_time)("fa-caret-up",!e.sortFields.appointment_time),r.Jb(4),r.Nb("fa-caret-down",e.sortFields.createdOn)("fa-caret-up",!e.sortFields.createdOn),r.Jb(1),r.vc("ngIf",null==e.appointmentList?null:e.appointmentList.length)("ngIfElse",t)}},directives:[p.p,p.h,p.k,n.k,n.l,p.l,p.r],pipes:[n.r,n.d],styles:[""]}),t})()}];let m=(()=>{class t{}return t.\u0275mod=r.Ub({type:t}),t.\u0275inj=r.Tb({factory:function(e){return new(e||t)},imports:[[i.h.forChild(h)],i.h]}),t})();c.d(e,"AppointmentListModule",(function(){return g}));let g=(()=>{class t{}return t.\u0275mod=r.Ub({type:t}),t.\u0275inj=r.Tb({factory:function(e){return new(e||t)},imports:[[n.b,p.d,m]]}),t})()},f4UJ:function(t,e,c){"use strict";c.d(e,"a",(function(){return a}));var n=c("AytR"),i=c("fXoL"),r=c("tk/3");let a=(()=>{class t{constructor(t){this.http=t}getBranchList(){return this.http.get(`${n.a.apiURL}/branch`)}addBranch(t){return this.http.post(`${n.a.apiURL}/branch`,t)}deleteBranch(t){return this.http.delete(`${n.a.apiURL}/branch/${t}`)}getBranchDetail(t){return this.http.get(`${n.a.apiURL}/branch/${t}`)}editBranch(t,e){return this.http.put(`${n.a.apiURL}/branch/${t}`,e)}}return t.\u0275fac=function(e){return new(e||t)(i.gc(r.a))},t.\u0275prov=i.Sb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},sumL:function(t,e,c){"use strict";c.d(e,"a",(function(){return a}));var n=c("AytR"),i=c("fXoL"),r=c("tk/3");let a=(()=>{class t{constructor(t){this.http=t}getBillingList(t,e,c){return this.http.get(`${n.a.apiURL}/bill/view/all?per_page=${t}&current_page=${e}&${c}`)}getCustomerList(t){return this.http.get(`${n.a.apiURL}/bill/customer?customer_name=${t}`)}getNumberList(t){return this.http.get(`${n.a.apiURL}/bill/number?customer_phone=${t}`)}deleteBill(t){return this.http.delete(`${n.a.apiURL}/bill/${t}`)}editBill(t,e){return this.http.put(`${n.a.apiURL}/bill/${t}/update`,e)}getBillDetail(t){return this.http.get(`${n.a.apiURL}/bill/${t}/getById`)}getTotalSale(t){return this.http.get(`${n.a.apiURL}/bill/total?${t}`)}getAppointmentList(t){return this.http.get(`${n.a.apiURL}/appointment?per_page=500&current_page=1&status=pending&${t||""}`)}}return t.\u0275fac=function(e){return new(e||t)(i.gc(r.a))},t.\u0275prov=i.Sb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);